{"version":3,"sources":["seed/index.ts","seed/LocalSeederService.ts"],"names":["lss","then","seeds","resource","LocalStorageService","setItem","TokenService","setToken","users","id","console","info","seedIndex","localStorageService","currentSeedIndex","getItem","this","seed","window","location","reload","attach","seedIfNeeded"],"mappings":"yKAGMA,EAAM,I,2HCCV,8FACQ,8BAAkBC,MAAK,SAAAC,GAC3B,IAAK,IAAMC,KAAYD,EAAO,EACA,IAAIE,KAEZC,QAAQF,EAAUD,EAAMC,IAIzB,IAAIG,IAAa,IAAIF,KAC7BG,SAASL,EAAMM,MAAM,GAAGC,IAErCC,QAAQC,KAAK,2BAZjB,2C,uHAgBA,WAA0BC,GAA1B,4EACQC,EAAsB,IAAIT,IAC1BU,EAAmBD,EAAoBE,QAAQ,cAAgB,IAEjEH,EAAYE,GAJlB,uBAKIJ,QAAQC,KAAK,qCALjB,SAMUK,KAAKC,OANf,OAOIJ,EAAoBR,QAAQ,YAAaO,GAEzCM,OAAOC,SAASC,SATpB,gD,2EAaA,WAAuB,IAAD,OACnBF,OAAeD,KAAO,kBAAM,EAAKA,Y,MD7BtCjB,EAAIqB,SACJrB,EAAIsB,aALuB","file":"static/js/3.7cb22d5d.chunk.js","sourcesContent":["import LocalSeederService from './LocalSeederService'\nconst SEED_INDEX: number = 1 // Increment this when reseeding is necessary\n\nconst lss = new LocalSeederService()\n\nlss.attach()\nlss.seedIfNeeded(SEED_INDEX)","import LocalStorageService from '../services/LocalStorageService'\nimport TokenService from '../services/TokenService'\n\nexport default class LocalSeederService {\n  public async seed(): Promise<void> {\n    await import('./seeds').then(seeds => {\n      for (const resource in seeds) {\n        const localStorageService = new LocalStorageService<object[]>()\n        // @ts-ignore\n        localStorageService.setItem(resource, seeds[resource])\n      }\n\n      // Sets token to make sure user is logged in\n      const tokenService = new TokenService(new LocalStorageService<string>())\n      tokenService.setToken(seeds.users[0].id)\n\n      console.info('Successfully seeded!')\n    })\n  }\n\n  public async seedIfNeeded(seedIndex: number): Promise<void> {\n    const localStorageService = new LocalStorageService<number>()\n    const currentSeedIndex = localStorageService.getItem('seedIndex') || 0\n\n    if (seedIndex > currentSeedIndex) {\n      console.info('Seems like seeding is necessary..')\n      await this.seed()\n      localStorageService.setItem('seedIndex', seedIndex)\n\n      window.location.reload()\n    }\n  }\n\n  public attach(): void {\n    (window as any).seed = () => this.seed()\n  }\n}"],"sourceRoot":""}