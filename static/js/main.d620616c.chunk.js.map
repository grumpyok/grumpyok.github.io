{"version":3,"sources":["domain/User.ts","services/TokenService.ts","domain/Organization.ts","domain/Tag.ts","domain/Project.ts","domain/Person.ts","hooks/useStore.ts","util/date.ts","ui/Card.tsx","ui/Badge.tsx","components/TextToIcon.tsx","components/TagToIcon.tsx","components/TagWithIcon.tsx","components/TagsGrid.tsx","components/ProjectTags.tsx","components/DisplayForRole.tsx","components/Link.tsx","util/url.ts","components/EditButton.tsx","components/ProjectCard.tsx","components/FormField.tsx","components/Form.tsx","ui/Drawer.tsx","components/FormSubmitButton.tsx","hooks/useQueryValue.ts","components/RouterDrawer.tsx","components/DrawerForm.tsx","ui/DateInput.tsx","config.ts","services/HttpClientService.ts","services/AbstractRestfulLocalStorageService.ts","domain/Notification.ts","builders/NotificationBuilder.ts","services/LocalPersonService.ts","services/LocalProjectService.ts","services/LocalOrganizationService.ts","services/AccountService.ts","services/LocalUserService.ts","services/TagService.ts","services/ProjectTagService.ts","services/AttachmentUploadService.ts","services/NotificationService.ts","services/PersonSkillService.ts","services/index.ts","hooks/useServices.ts","components/FormImageField.tsx","components/TagsSelect.tsx","components/ProjectTagsField.tsx","components/ProjectPositionsField.tsx","components/ProjectFormDrawer.tsx","components/ProjectList.tsx","components/ConnectedProjectList.tsx","views/ActiveProjects.tsx","views/UpcomingProjects.tsx","views/EndedProjects.tsx","ui/Tabs.tsx","components/RouterTabs.tsx","util/string.ts","ui/Tab.tsx","components/TableSearch.tsx","components/DataTable.tsx","components/RoleBadge.tsx","ui/User.tsx","routes.tsx","components/PersonUser.tsx","components/PersonTagsField.tsx","components/PersonFormDrawer.tsx","components/PersonDeleteDrawer.tsx","components/DeleteButton.tsx","views/OrganizationProfile/Members.tsx","components/OrganizationFormDrawer.tsx","views/OrganizationProfile/GeneralInformation.tsx","components/TagTypeSelect.tsx","views/OrganizationProfile/Skillset.tsx","views/OrganizationProfile/index.tsx","views/ProjectOverview.tsx","views/UserProfile/UserGeneralInformation.tsx","views/UserProfile/Skills.tsx","views/UserProfile/index.tsx","views/MyProfile.tsx","views/ComingSoon.tsx","views/UpcomingTrainings.tsx","ui/Logo.tsx","ui/logo.png","ui/Layout.tsx","ui/NavItemGroup.tsx","ui/NavItem.tsx","ui/Menu.tsx","components/NotificationsDrawer.tsx","components/NotificationsHandle.tsx","hooks/useInterval.ts","components/ConnectedLayout.tsx","components/AuthenticationGuard.tsx","views/NoOrganization.tsx","components/PersonGuard.tsx","views/Home.tsx","views/Logout.tsx","views/Start.tsx","components/OrganizationCreateForm.tsx","views/OrganizationWizard.tsx","views/SwitchPerson.tsx","App.tsx","store/AbstractResourceStore.ts","store/PersonStore.ts","store/AccountStore.ts","store/ProjectStore.ts","store/OrganizationStore.ts","store/TagStore.ts","store/ProjectTagStore.ts","store/NotificationStore.ts","store/PersonSkillStore.ts","store/index.ts","Providers.tsx","index.tsx","decorators/Resource.ts","domain/AbstractDomain.ts","util/json.ts","domain/ProjectTag.ts","domain/PersonSkill.ts","services/LocalStorageService.ts"],"names":["User","Resource","Name","JsonProperty","AbstractDomain","TokenService","localStorageService","this","getItem","TOKEN_KEY","token","setItem","removeItem","Organization","TagType","Tag","ProjectType","ProjectState","Project","_image","_organization","value","id","GeoPattern","generate","name","toDataUri","date","Date","dateStart","dateEnd","hasStarted","hasEnded","isOngoing","ONGOING","ENDED","UPCOMING","PROJECT","Role","Person","position","organization","filter","Boolean","join","scope","length","some","role","ADMIN","MANAGER","USER","StoreContext","React","createContext","useStore","store","useContext","Error","toDate","parseISO","formatDate","format","Card","children","props","bg","borderRadius","boxShadow","p","overflow","Badge","textTransform","iconByText","android","color","angular","bootstrap","react","java","php","estonian","english","TextToIcon","fallback","lowercasedName","toLocaleLowerCase","defaultProps","iconByTagType","TECHNOLOGY","LOCATION","POSITION","PROJECT_TYPE","LANGUAGE","TagToIcon","type","TagWithIcon","icon","spacing","py","style","flexShrink","fontSize","TagsGrid","tags","columns","spacingX","map","tag","observer","projectId","projectTagStore","useEffect","loadByProject","projectTags","getItemsByProject","positions","projectTag","positionsCount","reduce","acc","current","capacity","splice","toString","EDIT_ROLES","DisplayForRole","roles","currentPerson","personStore","hasPermission","Link","initialTo","to","preserveQuery","external","location","useLocation","split","pathname","newSearch","query1","query2","q1","URLSearchParams","forEach","set","mergeQueryStrings","search","href","target","EditButton","label","iconButtonProps","variant","as","aria-label","ProjectCard","project","highlighted","detailViewUri","content","width","height","src","image","alt","objectFit","textAlign","px","clientName","ml","colorScheme","size","fontWeight","alignItems","justifyContent","in","initialScale","FormField","required","helperText","defaultValue","pattern","validate","useFormContext","errors","control","getValues","error","message","Children","count","child","only","rules","render","onChange","onBlur","isRequired","isInvalid","isValidElement","cloneElement","Form","onSubmit","defaultValues","successMessage","formContext","useForm","handleSubmit","reset","isSubmitSuccessful","formState","toast","useToast","description","status","isClosable","Drawer","placement","FormSubmitButton","isSubmitting","isDirty","isLoading","disabled","useQueryValue","get","RouterDrawer","history","useHistory","isOpen","handleClose","urlSearchParams","delete","push","onClose","DrawerForm","submitButton","header","autoClose","formProps","drawerContext","values","a","result","text","DateInput","dateValue","config","dataSource","HttpClientService","tokenService","apiURL","passToken","accept","httpClient","axios","create","baseURL","interceptors","request","use","getToken","headers","authorization","Accept","response","undefined","data","title","detail","Promise","reject","AbstractRestfulLocalStorageService","domain","getName","params","results","resource","r","getMany","item","items","updatedItem","find","i","key","hasOwnProperty","uuid","Notification","NotificationBuilder","notification","path","personId","LocalPersonService","notificationService","userId","organizationId","init","build","LocalProjectService","personService","getAllByOrganization","LocalOrganizationService","AccountService","userService","email","password","users","setToken","user","getOne","clearToken","LocalUserService","TagService","ProjectTagService","ProjectTag","AttachmentUploadService","fileyClient","file","formData","FormData","append","post","NotificationService","PersonSkillService","PersonSkill","RootService","attachmentUploadService","accountService","projectService","organizationService","tagService","projectTagService","personSkillService","getHttpClientService","LocalStorageService","getTokenService","getAttachmentUploadService","getHttpClient","ServicesContext","initialize","useServices","FormImageField","setValue","watch","cursor","display","e","files","upload","url","shouldDirty","MultiValueLabel","Option","isMulti","components","options","tagStore","loadAll","tagsForProject","tagId","useFieldArray","fields","remove","projectPositions","total","b","toFixed","availablePositions","v","filteredAvailablePositions","IconButton","onClick","index","templateColumns","gap","placeholder","ProjectFormDrawer","projectStore","organizationStore","getByIdOrLoad","parse","currentOrganizationId","update","syncProjectTags","autoFocus","TRAINING","ProjectList","projects","highlightedProjectId","ConnectedProjectList","filters","loadByActiveOrganization","getFilteredItems","state","Tabs","isLazy","mr","rounded","border","borderColor","_selected","borderWidth","RouterTabs","match","useRouteMatch","currentSlug","replace","RegExp","slugs","toLowerCase","indexOf","Tab","TableSearch","onFilter","term","row","column","searchable","accessor","includes","DataTable","linkTo","sortable","useState","setFilter","sortBy","setSortBy","newFilter","order","orderBy","rowIndex","isLink","columnIndex","disableLink","stopPropagation","RoleBadge","person","humanReadableRole","subTitle","align","stackProps","avatar","Placement","personSkillStore","loadByPerson","t","getItemsByPerson","personSkill","simple","console","log","syncPersonSkills","getById","PersonDeleteDrawer","DeleteButton","loadCurrentOrganizationPersons","currentOrganizationPersons","OrganizationFormDrawer","currentOrganization","logo","industry","humanReadableTypes","TagTypeSelect","onSelect","Button","rightIcon","tagType","then","selectedType","mt","persons","casing","mb","ProjectOverview","loadOne","skills","skill","ComingSoon","routes","component","ActiveProjects","PROJECTS","UpcomingProjects","EndedProjects","NONE","MARKETPLACE","UpcomingTrainings","OrganizationProfile","USER_MENU","MyProfile","Logo","Layout","navigation","topRight","h","templateRows","minWidth","rowSpan","colSpan","justify","NavItemGroup","NavItem","NavLink","activeStyle","backgroundColor","pl","pr","Menu","handle","offset","notifications","notificationStore","formattedDate","createdAt","opacity","readAt","dateTime","formatDistanceToNow","addSuffix","my","markAsRead","currentPersonNotifications","currentPersonUnreadNotificationsCount","loadByActivePerson","callback","delay","savedCallback","useRef","setInterval","clearInterval","useInterval","boxSize","currentUserNonActivePersons","loadUserRelated","filteredRoutes","route","AuthenticationGuard","forbiddenAction","accountStore","authenticated","checkAuthentication","NoOrganization","Home","buildInfo","process","Logout","logout","Start","prompt","login","catch","info","needsRegister","register","err","alert","GuardedStart","OrganizationCreateForm","organizationName","OrganizationWizard","savedOrganization","authenticatedUser","savedPerson","selectPerson","SwitchPerson","goBack","App","ResourceStoreStatus","exact","AbstractResourceStore","service","makeObservable","setManyEventually","setOneEventually","existingItem","storeItem","promise","sanitizeBeforeSave","setStatus","PENDING","byId","RESOLVED","REJECTED","Object","prepareForRetrieving","getItems","prepareForStoring","_status","observable","IDLE","computed","action","PersonStore","rootService","rootStore","selectedPersonId","getAllRelatedToUser","extendedItem","StoredPerson","fromObject","authenticatedUserId","currentUserPersons","loadByOrganization","AccountStore","setAuthenticatedUser","getAccount","ProjectStore","StoredProject","currentOrganizationProjects","OrganizationStore","TagStore","ProjectTagStore","getAllByProject","StoredProjectTag","currentProjectTags","existingTagIds","updatedProjectTag","pt","_project","_tag","NotificationStore","getAllByPerson","sort","getTime","n","PersonSkillStore","StoredPersonSkill","personSkills","currentPersonSkills","updatedPersonSkill","level","_person","RootStore","Providers","services","Provider","ReactDOM","StrictMode","document","getElementById","_resourceName","JsonIgnoreProperties","ignoreUnknown","payload","descriptor","getOwnPropertyDescriptor","objectMapper","ObjectMapper","input","stringify","mainCreator","localStorage","getFullKey","KEY_PREFIX"],"mappings":"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","file":"static/js/main.d620616c.chunk.js","sourcesContent":["import AbstractDomain from './AbstractDomain'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\n@Resource.Name('users')\nexport default class User extends AbstractDomain<User> {\n  @JsonProperty() public email: string\n}","import LocalStorageService from './LocalStorageService'\n\nexport default class TokenService {\n  private static TOKEN_KEY = 'token'\n  private readonly localStorageService: LocalStorageService<string>\n\n  public constructor(localStorageService: LocalStorageService<string>) {\n    this.localStorageService = localStorageService\n  }\n\n  public getToken(): string | null {\n    return this.localStorageService.getItem(TokenService.TOKEN_KEY) || null\n  }\n\n  public setToken(token: string): void {\n    this.localStorageService.setItem(TokenService.TOKEN_KEY, token)\n  }\n\n  public clearToken(): void {\n    this.localStorageService.removeItem(TokenService.TOKEN_KEY)\n  }\n}","import AbstractDomain from './AbstractDomain'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\n@Resource.Name('organizations')\nexport default class Organization extends AbstractDomain<Organization> {\n  @JsonProperty() public name: string\n  @JsonProperty() public logo?: string\n  @JsonProperty() public address: string\n  @JsonProperty() public vatNumber: string\n  @JsonProperty() public email: string\n  @JsonProperty() public phone: string\n  @JsonProperty() public registryCode: string\n  @JsonProperty() public industry: string\n  @JsonProperty() public status: string\n}","import AbstractDomain from './AbstractDomain'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\nexport enum TagType {\n  POSITION = 'position',\n  TECHNOLOGY = 'technology',\n  PROJECT_TYPE = 'project_type',\n  LOCATION = 'location',\n  LANGUAGE = 'language',\n}\n\n@Resource.Name('tags')\nexport default class Tag extends AbstractDomain<Tag> {\n  @JsonProperty() public name: string\n  @JsonProperty() public type: TagType\n}","import AbstractDomain from './AbstractDomain'\nimport Organization from './Organization'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n// @ts-ignore\nimport GeoPattern from 'geopattern'\n\nexport enum ProjectType {\n    PROJECT = 'project',\n    TRAINING = 'training'\n}\n\nexport enum ProjectState {\n    UPCOMING,\n    ONGOING,\n    ENDED,\n}\n\n@Resource.Name('projects')\nexport default class Project extends AbstractDomain<Project> {\n    @JsonProperty() public name: string\n    @JsonProperty() public type: ProjectType = ProjectType.PROJECT\n    @JsonProperty() public dateStart?: Date\n    @JsonProperty() public dateEnd?: Date\n    @JsonProperty() public organizationId: string\n    @JsonProperty() public clientName?: string\n    private _image?: string\n    protected _organization?: Organization\n\n    @JsonProperty()\n    get organization(): Organization {\n        return this._organization\n    }\n\n    set organization(value: Organization) {\n        this._organization = value\n    }\n\n    @JsonProperty()\n    get image(): string {\n        if (!this._image && this.id) {\n            return GeoPattern.generate(this.name).toDataUri()\n        }\n\n        return this._image\n    }\n\n    set image(value: string) {\n        this._image = value\n    }\n\n    public hasStarted(date: Date = new Date()): boolean {\n        return !this.dateStart || this.dateStart < date\n    }\n\n    public hasEnded(date: Date = new Date()): boolean {\n        return this.dateEnd && this.dateEnd < date\n    }\n\n    public isOngoing(): boolean {\n        return this.hasStarted() && !this.hasEnded()\n    }\n\n    public get state(): ProjectState {\n        if (this.isOngoing()) {\n            return ProjectState.ONGOING\n        }\n\n        if (!this.hasStarted()) {\n            return ProjectState.UPCOMING\n        }\n\n        if (this.hasEnded()) {\n            return ProjectState.ENDED\n        }\n    }\n}","import Organization from './Organization'\nimport User from './User'\nimport AbstractDomain from './AbstractDomain'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\nexport enum Role {\n    ADMIN,\n    MANAGER,\n    USER,\n}\n\n@Resource.Name('persons')\nexport default class Person extends AbstractDomain<Person>{\n    @JsonProperty() public name: string\n    @JsonProperty() public position: string\n    @JsonProperty() public userId?: string | null\n    @JsonProperty() public user?: User\n    @JsonProperty() public capacity?: number | null\n    @JsonProperty() public organizationId: string\n    @JsonProperty() public role: Role\n    @JsonProperty() public image?: string\n    protected _organization?: Organization\n\n    public get subTitle(): string {\n        const pieces = [this.position, this.organization?.name].filter(Boolean)\n\n        return pieces.join(' at ')\n    }\n\n    public get organization(): Organization {\n        return this._organization\n    }\n\n    public set organization(value: Organization) {\n        this._organization = value\n    }\n\n    public hasPermission(scope: Role[]): boolean {\n        return !scope || scope.length <= 0 || scope.some(role => role === this.role)\n    }\n\n    public get humanReadableRole(): string {\n        switch (this.role) {\n            case Role.ADMIN:\n                return 'Admin'\n            case Role.MANAGER:\n                return 'Manager'\n            case Role.USER:\n                return 'User'\n        }\n\n        return ''\n    }\n}\n","import React from 'react'\nimport RootStore from '../store'\n\nexport const StoreContext = React.createContext<RootStore | null>(null)\n\nexport default function useStore(): RootStore {\n  const store = React.useContext(StoreContext)\n\n  if (!store) {\n    throw new Error('Store is not provided')\n  }\n\n  return store\n}","import {parseISO, format} from 'date-fns'\n\nexport function toDate(date: string | Date | null): Date | null {\n  if (!date) {\n    return null\n  }\n\n  if (typeof date === 'string') {\n    return parseISO(date)\n  }\n\n  return new Date(date)\n}\n\nexport function formatDate(date: Date | null): string | null {\n  if (!date) {\n    return null\n  }\n\n  return format(date, 'dd.MM.yyyy')\n}","import React from 'react'\nimport {Box, BoxProps} from '@chakra-ui/react'\n\nexport interface CardProps extends Partial<Pick<BoxProps, 'p'>> {\n}\n\nconst Card: React.FC<CardProps> = ({children, ...props}) => {\n  return (\n      <Box bg=\"white\" borderRadius=\"md\" boxShadow=\"lg\" p={4} overflow=\"hidden\" {...props}>\n        {children}\n      </Box>\n  )\n}\n\nexport default Card","import React from 'react'\nimport {Badge as ChakraBadge, BadgeProps as ChakraBadgeProps} from '@chakra-ui/react'\n\nexport interface BadgeProps extends ChakraBadgeProps {\n\n}\n\nconst Badge: React.FC<BadgeProps> = (props) => {\n  return (\n      <ChakraBadge borderRadius=\"md\" textTransform=\"unset\" {...props} />\n  )\n}\n\nexport default Badge","import React from 'react'\nimport {FaAndroid, FaAngular, FaBootstrap, FaJava, FaPhp, FaReact, FaHashtag} from 'react-icons/all'\n\ninterface TextToIconProps {\n  name: string\n  fallback?: React.ReactNode\n}\n\nconst iconByText: { [key: string]: React.ReactNode } = {\n  android: <FaAndroid color=\"#85C808\"/>,\n  angular: <FaAngular color=\"#DD0031\"/>,\n  bootstrap: <FaBootstrap color=\"#563D7C\"/>,\n  react: <FaReact color=\"#61DBFB\"/>,\n  java: <FaJava color=\"red\"/>,\n  php: <FaPhp color=\"#474A8A\"/>,\n  estonian: '',\n  english: '',\n}\n\nconst TextToIcon: React.FC<TextToIconProps> = ({name, fallback}) => {\n  const lowercasedName: string = name ? name.toLocaleLowerCase() : ''\n\n  return (\n      <>\n        {iconByText[lowercasedName] || fallback}\n      </>\n  )\n}\n\nTextToIcon.defaultProps = {\n  fallback: <FaHashtag/>\n}\n\nexport default TextToIcon","import React from 'react'\nimport {TagType} from '../domain/Tag'\nimport TextToIcon from './TextToIcon'\nimport {FaCode, FaTag, FaUserTag, FaLanguage} from 'react-icons/all'\nimport {FaLocationArrow} from 'react-icons/fa'\n\ninterface TagToIconProps {\n  name: string\n  type: TagType\n}\n\nconst iconByTagType: { [key in TagType]: React.ReactNode } = {\n  [TagType.TECHNOLOGY]: <FaCode/>,\n  [TagType.LOCATION]: <FaLocationArrow/>,\n  [TagType.POSITION]: <FaUserTag/>,\n  [TagType.PROJECT_TYPE]: <FaTag/>,\n  [TagType.LANGUAGE]: <FaLanguage/>\n}\n\nconst TagToIcon: React.FC<TagToIconProps> = ({name, type}) => {\n  return (\n      <TextToIcon\n          name={name}\n          fallback={(\n              <>\n                {iconByTagType[type] || TextToIcon.defaultProps.fallback}\n              </>\n          )}\n      />\n  )\n}\n\nexport default TagToIcon","import React from 'react'\nimport TagToIcon from './TagToIcon'\nimport {HStack, Text} from '@chakra-ui/react'\nimport {TagType} from '../domain/Tag'\n\nexport interface TagProps {\n  name: string\n  type?: TagType\n  icon?: any\n}\n\nconst TagWithIcon: React.FC<TagProps> = ({children, name, type, icon}) => {\n  return (\n      <HStack\n          spacing={2}\n          py={1}\n      >\n        <span style={{flexShrink: 0}}>{icon || <TagToIcon name={name} type={type} />}</span>\n        <Text fontSize=\"xs\">{children || name}</Text>\n      </HStack>\n  )\n}\n\nexport default TagWithIcon","import React from 'react'\nimport {SimpleGrid} from '@chakra-ui/react'\nimport {TagType} from '../domain/Tag'\nimport TagWithIcon from './TagWithIcon'\n\nexport interface TagsGridProps {\n  tags: Array<{ name: string, icon?: any, type?: TagType }>\n}\n\nconst TagsGrid: React.FC<TagsGridProps> = ({tags}) => {\n  return (\n      <SimpleGrid columns={2} spacingX={4}>\n        {tags.map(tag => (\n            <TagWithIcon key={tag.name} {...tag} />\n        ))}\n      </SimpleGrid>\n  )\n}\n\nexport default TagsGrid","import React, {useEffect} from 'react'\nimport useStore from '../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport TagsGrid from './TagsGrid'\nimport {TagType} from '../domain/Tag'\nimport {FaUsers} from 'react-icons/fa'\n\nexport interface ProjectTagsProps {\n  projectId: string\n}\n\nconst ProjectTags: React.FC<ProjectTagsProps> = ({projectId}) => {\n  const {projectTagStore} = useStore()\n\n  useEffect(() => {\n    projectTagStore.loadByProject(projectId)\n  }, [projectId])\n\n  const projectTags = projectTagStore.getItemsByProject(projectId)\n  const positions = projectTags.filter(projectTag => projectTag.tag?.type === TagType.POSITION)\n  const other = projectTags.filter(projectTag => projectTag.tag?.type !== TagType.POSITION)\n  const tags: any[] = other.map(projectTag => projectTag.tag || {})\n\n  const positionsCount = positions.reduce(((acc, current) => acc + (+current.capacity || 1)), 0)\n\n  if (positionsCount > 0) {\n    tags.splice(1, 0, {\n      icon: <FaUsers />,\n      name: positionsCount.toString(),\n    })\n  }\n\n  return (\n      <TagsGrid tags={tags} />\n  )\n}\n\nexport default observer(ProjectTags)","import React from 'react'\nimport {Role} from '../domain/Person'\nimport useStore from '../hooks/useStore'\n\ninterface DisplayForRoleProps {\n  roles: Role[]\n}\n\nexport const EDIT_ROLES: Role[] = [Role.MANAGER, Role.ADMIN]\n\nconst DisplayForRole: React.FC<DisplayForRoleProps> = ({ roles, children }) => {\n  const { personStore: { currentPerson }} = useStore()\n\n  if (!currentPerson || !currentPerson.hasPermission(roles)) {\n    return null\n  }\n\n  return <>{children}</>\n}\n\nexport default DisplayForRole","import React from 'react'\nimport { Link as RouterLink, LinkProps as RouterLinkProps, useLocation } from 'react-router-dom'\nimport {mergeQueryStrings} from '../util/url'\n\ninterface LinkProps extends Omit<RouterLinkProps, 'to'> {\n  preserveQuery?: boolean\n  to: string\n  external?: boolean\n}\n\nconst Link: React.FC<LinkProps> = ({ to: initialTo, preserveQuery, external, ...props }) => {\n  const location = useLocation()\n\n  let to: string = initialTo\n\n  if (preserveQuery) {\n    const [pathname, newSearch] = initialTo.split('?')\n    to = `${pathname || ''}?${mergeQueryStrings(location.search, newSearch)}`\n  }\n\n  if (external) {\n    return <a href={to} target=\"_blank\" {...props} />\n  }\n\n  return <RouterLink to={to} {...props} />\n}\n\nexport default Link","export function mergeQueryStrings(query1: string, query2: string): string {\n  const q1 = new URLSearchParams(query1 || '')\n  const q2 = new URLSearchParams(query2 || '')\n\n  q2.forEach((value, name) => {\n    q1.set(name, value)\n  })\n\n  return q1.toString()\n}","import React from 'react'\nimport {IconButton, IconButtonProps} from '@chakra-ui/react'\nimport {FaPen} from 'react-icons/fa'\nimport DisplayForRole from './DisplayForRole'\nimport {Role} from '../domain/Person'\nimport Link from './Link'\n\nexport interface EditButtonProps extends Partial<Pick<IconButtonProps, 'size'>>{\n  to: string\n  scope?: Role[]\n  label?: string\n  icon?: React.ReactElement\n}\n\nconst EditButton: React.FC<EditButtonProps> = ({to, scope, label, icon, ...iconButtonProps}) => {\n  return (\n      <DisplayForRole roles={scope}>\n        <IconButton variant=\"ghost\" as={Link} to={to} preserveQuery aria-label={label} icon={icon} {...iconButtonProps}/>\n      </DisplayForRole>\n  )\n}\n\nEditButton.defaultProps = {\n  scope: [Role.MANAGER, Role.ADMIN],\n  label: 'Edit',\n  icon: <FaPen />\n}\n\nexport default EditButton","import React from 'react'\nimport Project from '../domain/Project'\nimport {Button, Divider, HStack, Image, ScaleFade, Stack, Text} from '@chakra-ui/react'\nimport {formatDate} from '../util/date'\nimport Card from '../ui/Card'\nimport Badge from '../ui/Badge'\nimport {Link} from 'react-router-dom'\nimport ProjectTags from './ProjectTags'\nimport EditButton from './EditButton'\n\nexport interface ProjectCardProps {\n  project: Project\n  highlighted?: boolean\n}\n\nconst ProjectCard: React.FC<ProjectCardProps> = ({project, highlighted}) => {\n  const detailViewUri = `/projects/view/${project.id}`\n\n  const content = (\n      <Card p={0}>\n        <Stack spacing={2}>\n          <Link to={detailViewUri}>\n            <Image\n                width=\"100%\"\n                height={200}\n                src={project.image}\n                alt={project.name}\n                objectFit=\"cover\"\n            />\n          </Link>\n\n          <Text fontSize=\"lg\" textAlign=\"center\" px={4}>\n            {project.name}\n            {project.clientName && <Badge ml={2} colorScheme=\"purple\" size=\"xs\">{project.clientName}</Badge>}\n          </Text>\n\n          {(project.dateStart || project.dateEnd) && (\n              <Text fontSize=\"xs\" fontWeight=\"bold\" textAlign=\"center\" color=\"gray.500\" px={4}>\n                {formatDate(project.dateStart) || '...'}  {formatDate(project.dateEnd) || '...'}\n              </Text>\n          )}\n\n          <Stack px={4} alignItems=\"center\">\n            <ProjectTags projectId={project.id}/>\n          </Stack>\n\n          <Stack p={4}>\n            <Divider/>\n\n            <HStack justifyContent=\"flex-end\" spacing={2}>\n              <EditButton size=\"sm\" to={`?${project.type}=${project.id}`}/>\n              <Button size=\"sm\" as={Link} to={detailViewUri} colorScheme=\"purple\">Open</Button>\n            </HStack>\n          </Stack>\n        </Stack>\n      </Card>\n  )\n\n  if (!highlighted) {\n    return content\n  }\n\n  return (\n      <ScaleFade in initialScale={0.3}>\n        {content}\n      </ScaleFade>\n  )\n}\n\nexport default ProjectCard","import React from 'react'\nimport {FormControl, FormErrorMessage, FormHelperText, FormLabel} from '@chakra-ui/react'\nimport {Controller, useFormContext} from 'react-hook-form'\n\ninterface FormFieldProps {\n  name: string\n  required?: boolean\n  label?: string\n  helperText?: string\n  defaultValue?: any\n  pattern?: RegExp\n  validate?: (value: any, getValues: () => any) => string | true\n}\n\nconst FormField: React.FC<FormFieldProps> = ({children, name, required, label, helperText, defaultValue, pattern, validate}) => {\n  const {errors, control, getValues} = useFormContext()\n  const error = errors[name]?.message || null\n\n  if (React.Children.count(children) > 1) {\n    throw new Error('Invalid children count')\n  }\n\n  const child = children && React.Children.only(children)\n\n  return (\n      <Controller\n        control={control}\n        name={name}\n        rules={{\n          required,\n          pattern,\n          validate: validate && ((value: any) => validate(value, getValues)),\n        }}\n        defaultValue={defaultValue}\n        render={({ onChange, onBlur, value }) => (\n            <FormControl\n                id={`formField__${name}`}\n                isRequired={required}\n                isInvalid={!!error}\n            >\n              {label && <FormLabel>{label}</FormLabel>}\n              {child && React.isValidElement(child) && React.cloneElement(child, {\n                name,\n                onChange,\n                onBlur,\n                value\n              })}\n              {error && <FormErrorMessage>{error}</FormErrorMessage>}\n              {helperText && <FormHelperText>{helperText}</FormHelperText>}\n\n            </FormControl>\n        )}\n      />\n  )\n}\n\nFormField.defaultProps = {\n  defaultValue: '',\n}\n\nexport default FormField","import React, {useEffect} from 'react'\nimport {useForm, UseFormMethods, FormProvider} from 'react-hook-form'\nimport {useToast} from '@chakra-ui/react'\n\nexport interface FormProps {\n  onSubmit: (values: object) => void | Promise<void>\n  children: React.ReactNode | ((formContext: UseFormMethods) => any)\n  defaultValues?: object\n  successMessage?: string\n}\n\nconst Form: React.FC<FormProps> = ({onSubmit, children, defaultValues, successMessage}) => {\n  const formContext = useForm({\n    defaultValues\n  })\n  const {handleSubmit, reset, formState: {isSubmitSuccessful}} = formContext\n  const toast = useToast()\n\n\n  useEffect(() => {\n    if (isSubmitSuccessful && successMessage) {\n      toast({\n        description: successMessage,\n        status: 'success',\n        isClosable: true\n      })\n    }\n  }, [isSubmitSuccessful])\n\n  useEffect(() => {\n    if (isSubmitSuccessful) {\n      reset(defaultValues)\n    }\n  }, [reset, defaultValues, isSubmitSuccessful])\n\n  return (\n      <FormProvider {...formContext}>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          {typeof children === 'function' ? (children as any)(formContext) : children}\n        </form>\n      </FormProvider>\n  )\n}\n\nexport default Form","import React from 'react'\nimport {\n  Drawer as ChakraDrawer,\n  DrawerProps as ChakraDrawerProps,\n  DrawerBody,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerOverlay\n} from '@chakra-ui/react'\n\nexport interface DrawerProps extends ChakraDrawerProps {\n\n}\n\nconst Drawer: React.FC<DrawerProps> = ({children, ...props}) => {\n  return (\n      <ChakraDrawer placement=\"right\" {...props}>\n        <DrawerOverlay>\n          <DrawerContent>\n            <DrawerCloseButton/>\n            {children}\n          </DrawerContent>\n        </DrawerOverlay>\n      </ChakraDrawer>\n  )\n}\n\nexport {\n  DrawerHeader,\n  DrawerBody,\n  DrawerFooter,\n}\n\nexport default Drawer","import React from 'react'\nimport {useFormContext} from 'react-hook-form'\nimport {Button} from '@chakra-ui/react'\n\nexport interface FormSubmitButtonProps {\n\n}\n\nconst FormSubmitButton: React.FC<FormSubmitButtonProps> = ({children}) => {\n  const {formState: {isSubmitting, isDirty, isSubmitSuccessful}} = useFormContext()\n\n  return (\n      <Button\n          type=\"submit\"\n          colorScheme=\"purple\"\n          isLoading={isSubmitting}\n          disabled={!isDirty || isSubmitSuccessful}\n      >\n        {children}\n      </Button>\n  )\n}\n\nexport default FormSubmitButton","import {useLocation} from 'react-router-dom'\n\nexport default function useQueryValue(name: string): string | null {\n  const location = useLocation()\n  const value = new URLSearchParams(location.search).get(name)\n\n  return value\n}","import React from 'react'\nimport {useHistory, useLocation} from 'react-router-dom'\nimport useQueryValue from '../hooks/useQueryValue'\nimport Drawer, {DrawerProps} from '../ui/Drawer'\n\nexport interface DrawerContext {\n  value: string\n  handleClose: () => void\n}\n\nexport interface RouterDrawerProps extends Partial<Pick<DrawerProps, 'size'>>{\n  name: string\n  children?: ((drawerContext: DrawerContext) => any) | React.ReactNode\n}\n\nconst RouterDrawer: React.FC<RouterDrawerProps> = ({name, children, ...props}) => {\n  const location = useLocation()\n  const history = useHistory()\n  const value = useQueryValue(name)\n  const isOpen = value !== null\n\n  const handleClose = () => {\n    const urlSearchParams = new URLSearchParams(location.search)\n    urlSearchParams.delete(name)\n\n    history.push(`?${urlSearchParams.toString()}`)\n  }\n\n  return (\n      <Drawer isOpen={isOpen} onClose={handleClose} {...props}>\n        {typeof children === 'function' ? (children as any)({value, handleClose}) : children}\n      </Drawer>\n  )\n}\n\nexport default RouterDrawer","import React from 'react'\nimport Form, {FormProps} from './Form'\nimport {DrawerBody, DrawerFooter, DrawerHeader} from '../ui/Drawer'\nimport FormSubmitButton, {FormSubmitButtonProps} from './FormSubmitButton'\nimport RouterDrawer, {RouterDrawerProps} from './RouterDrawer'\nimport {UseFormMethods} from 'react-hook-form'\n\ninterface DrawerFormProps extends Omit<FormProps, 'children' | 'onSubmit'>, Partial<Pick<RouterDrawerProps, 'size' | 'name'>> {\n  header?: React.ReactNode\n  submitButton?: FormSubmitButtonProps & { text: string }\n  children: React.ReactNode | ((context: { formContext: UseFormMethods, drawerContext: string }) => any)\n  onSubmit: (values: object, drawerValue: string) => void | Promise<void>\n  autoClose?: boolean\n}\n\nconst DrawerForm: React.FC<DrawerFormProps> = ({\n                                                 submitButton,\n                                                 name,\n                                                 size,\n                                                 header,\n                                                 children,\n                                                 onSubmit,\n                                                 autoClose,\n                                                 ...formProps\n                                               }) => {\n  return (\n      <RouterDrawer name={name} size={size}>\n        {((drawerContext) => {\n          const handleSubmit = async (values: any) => {\n            const result = await onSubmit(values, drawerContext.value)\n\n            if (autoClose) {\n              drawerContext.handleClose()\n            }\n\n            return result\n          }\n\n          return (\n              <>\n                <DrawerHeader>{header}</DrawerHeader>\n                <DrawerBody>\n                  <Form onSubmit={handleSubmit} {...formProps}>\n                    {(formContext) => (\n                        <>\n                          <>\n                            {typeof children === 'function' ? (children as any)({\n                              formContext,\n                              drawerContext\n                            }) : children}\n                          </>\n\n                          {submitButton && (\n                              <DrawerFooter>\n                                <FormSubmitButton {...submitButton}>{submitButton.text}</FormSubmitButton>\n                              </DrawerFooter>\n                          )}\n                        </>\n                    )}\n                  </Form>\n                </DrawerBody>\n              </>\n          )\n        })}\n      </RouterDrawer>\n  )\n}\n\nDrawerForm.defaultProps = {\n  submitButton: {\n    text: 'Save'\n  },\n  autoClose: true\n}\n\nexport default DrawerForm","import React from 'react'\nimport {Input, InputProps} from '@chakra-ui/react'\nimport {format} from 'date-fns'\nimport {toDate} from '../util/date'\n\nexport interface DateInputProps extends Omit<InputProps, 'type' | 'value'> {\n  value?: Date\n}\n\nconst DateInput: React.FC<DateInputProps> = ({ value, ...props}) => {\n  const dateValue = value && toDate(value)\n\n  return (\n      <Input {...props} value={dateValue && format(dateValue, 'yyyy-MM-dd')} type=\"date\" />\n  )\n}\n\nexport default DateInput","interface Config {\n  dataSource: string | null\n}\n\nconst config: Config = {\n  dataSource: null\n}\n\nexport default config","import axios  from 'axios'\nimport TokenService from './TokenService'\nimport HttpClient from './HttpClient'\n\nexport default class HttpClientService {\n  private readonly tokenService: TokenService\n\n  public constructor(tokenService: TokenService) {\n    this.tokenService = tokenService\n  }\n\n  public create(apiURL?: string, passToken: boolean = true, accept: string = 'application/json'): HttpClient {\n    const httpClient = axios.create({\n      baseURL: apiURL\n    })\n\n    httpClient.interceptors.request.use(async (config) => {\n      const token = await this.tokenService.getToken()\n\n      if (passToken && token) {\n        config.headers.authorization = `Bearer ${token}`\n      }\n\n      if (accept && !config.headers.Accept) {\n        config.headers.Accept = 'application/json'\n      }\n\n      return config\n    })\n\n    httpClient.interceptors.response.use(undefined, error => {\n      const { title, detail, message } = error?.response?.data || {}\n      error.message = title || detail || message || error.message\n\n      return Promise.reject(error)\n    })\n\n    return httpClient\n  }\n}","import { v4 as uuid } from 'uuid'\nimport LocalStorageService from './LocalStorageService'\nimport {ResourceId} from '../types'\nimport RestfulService from './RestfulService'\nimport AbstractDomain from '../domain/AbstractDomain'\nimport {ClassType} from 'jackson-js/dist/@types'\nimport Resource from '../decorators/Resource'\n\nexport default class AbstractRestfulLocalStorageService<T extends AbstractDomain<T>> implements RestfulService<T> {\n  private readonly domain: ClassType<T>\n  private readonly localStorageService: LocalStorageService<T[]>\n\n  public constructor(domain: ClassType<T>, localStorageService: LocalStorageService<T[]>) {\n    this.domain = domain\n    this.localStorageService = localStorageService\n  }\n\n  private get resource(): string {\n    return Resource.getName(this.domain)\n  }\n\n  public async getMany(params: object = {}): Promise<T[]> {\n    let results = this.localStorageService.getItem(this.resource)\n\n    if (!results) {\n      return []\n    }\n\n    for (const filter in params) {\n      // @ts-ignore\n      results = results.filter(r => r[filter] === params[filter])\n    }\n\n    return results\n  }\n\n  public async getOne(id: ResourceId, params: object = {}): Promise<T> {\n    const [result] = await this.getMany({ id })\n\n    if (!result) {\n      throw new Error(`Item ${id} not found`)\n    }\n\n    return result\n  }\n\n  public async update(id: ResourceId, item: Partial<T>): Promise<T> {\n    const items = this.localStorageService.getItem(this.resource) || []\n\n    const updatedItem = items?.find(i => i.id === id)\n\n    if (!updatedItem) {\n      throw new Error(`Item ${id} not found`)\n    }\n\n    for (const key in item) {\n      if (!item.hasOwnProperty(key)) {\n        continue\n      }\n      updatedItem[key] = item[key]!\n    }\n\n    this.localStorageService.setItem(this.resource, items)\n\n    return updatedItem\n  }\n\n  public async create(item: T): Promise<T> {\n    const items = this.localStorageService.getItem(this.resource) || []\n\n    item.id = uuid()\n\n    this.localStorageService.setItem(this.resource, [\n        ...items,\n        item\n    ])\n\n    return item\n  }\n\n  public async delete(id: ResourceId): Promise<void> {\n    const items = this.localStorageService.getItem(this.resource) || []\n\n    this.localStorageService.setItem(this.resource, items?.filter(i => i.id !== id))\n  }\n}","import AbstractDomain from './AbstractDomain'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\n@Resource.Name('notifications')\nexport default class Notification extends AbstractDomain<Notification> {\n  @JsonProperty() public createdAt: Date = new Date()\n  @JsonProperty() public title: string\n  @JsonProperty() public content: string\n  @JsonProperty() public path: string\n  @JsonProperty() public readAt?: Date\n  @JsonProperty() public personId: string\n}","import Notification from '../domain/Notification'\n\nexport default class NotificationBuilder {\n  public constructor(private readonly notification: Notification) {\n\n  }\n\n  public static init(): NotificationBuilder {\n    return new NotificationBuilder(new Notification())\n  }\n\n  public build(): Notification {\n    return this.notification\n  }\n\n  public title(value: string): NotificationBuilder {\n    this.notification.title = value\n\n    return this\n  }\n\n  public content(value: string): NotificationBuilder {\n    this.notification.content = value\n\n    return this\n  }\n\n  public path(value: string): NotificationBuilder {\n    this.notification.path = value\n\n    return this\n  }\n\n  public personId(value: string): NotificationBuilder {\n    this.notification.personId = value\n\n    return this\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport Person from '../domain/Person'\nimport LocalStorageService from './LocalStorageService'\nimport PersonService from './PersonService'\nimport TokenService from './TokenService'\nimport NotificationService from './NotificationService'\nimport Notification from '../domain/Notification'\nimport NotificationBuilder from '../builders/NotificationBuilder'\n\nexport default class LocalPersonService extends AbstractRestfulLocalStorageService<Person> implements PersonService {\n  public constructor(\n      localStorageService: LocalStorageService<Person[]>,\n      private readonly tokenService: TokenService,\n      private readonly notificationService: NotificationService\n  ) {\n    super(Person, localStorageService)\n  }\n\n  public async getAllRelatedToUser(): Promise<Person[]> {\n    return this.getMany({userId: this.tokenService.getToken()})\n  }\n\n  public async getAllByOrganization(organizationId: string): Promise<Person[]> {\n    return this.getMany({organizationId})\n  }\n\n  public async create(item: Person): Promise<Person> {\n    const result = await super.create(item)\n\n    this.notificationService.create(\n        NotificationBuilder\n            .init()\n            .title('Hey!')\n            .content('It\\'s nice to see you')\n            .personId(item.id)\n            .build()\n    )\n\n    return result\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport Project from '../domain/Project'\nimport LocalStorageService from './LocalStorageService'\nimport ProjectService from './ProjectService'\nimport NotificationBuilder from '../builders/NotificationBuilder'\nimport NotificationService from './NotificationService'\nimport PersonService from './PersonService'\n\nexport default class LocalProjectService extends AbstractRestfulLocalStorageService<Project> implements ProjectService {\n  public constructor(localStorageService: LocalStorageService<Project[]>, private readonly notificationService: NotificationService, private readonly personService: PersonService) {\n    super(Project, localStorageService)\n  }\n\n  public getAllByOrganization(organizationId: string): Promise<Project[]> {\n    return this.getMany({ organizationId })\n  }\n\n  public async create(item: Project): Promise<Project> {\n    const result = await super.create(item)\n\n    const persons = await this.personService.getAllByOrganization(item.organizationId)\n\n    persons.forEach((p) => {\n      this.notificationService.create(\n          NotificationBuilder\n              .init()\n              .title('New project')\n              .content(`New project *${item.name}* has been created. Go check it out!`)\n              .path('/not-found')\n              .personId(p.id)\n              .build()\n      )\n    })\n\n    return result\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport Organization from '../domain/Organization'\nimport LocalStorageService from './LocalStorageService'\nimport OrganizationService from './OrganizationService'\n\nexport default class LocalOrganizationService extends AbstractRestfulLocalStorageService<Organization> implements OrganizationService {\n  public constructor(localStorageService: LocalStorageService<Organization[]>) {\n    super(Organization, localStorageService)\n  }\n}","import TokenService from './TokenService'\nimport HttpClient from './HttpClient'\nimport UserService from './UserService'\nimport User from '../domain/User'\n\nexport default class AccountService {\n  private readonly httpClient: HttpClient\n  private readonly tokenService: TokenService\n  private readonly userService: UserService\n\n  public constructor(httpClient: HttpClient, tokenService: TokenService, userService: UserService) {\n    this.httpClient = httpClient\n    this.tokenService = tokenService\n    this.userService = userService\n  }\n\n  public async login(email: string, password: string): Promise<void> {\n    // const { data } = await this.httpClient.post<{ token: string }>('/account/login', { email, password })\n    //this.tokenService.setToken(data.token)\n\n    const users = await this.userService.getMany({email})\n\n    if (!users.length) {\n      throw new Error('User not found')\n    }\n\n    this.tokenService.setToken(users[0].id)\n  }\n\n  public async register(email: string, password: string): Promise<void> {\n    /*await this.httpClient.post('/account/register', {\n      email,\n      password\n    })*/\n\n    const users = await this.userService.getMany({email})\n\n    if (users.length) {\n      throw new Error('User already exists')\n    }\n\n    const user = new User()\n    user.email = email\n\n    await this.userService.create(user)\n  }\n\n  public async getAccount(): Promise<User | null> {\n    const token = this.tokenService.getToken()\n\n    if (!token) {\n      return null\n    }\n\n    return this.userService.getOne(token)\n  }\n\n  public async logout(): Promise<void> {\n    this.tokenService.clearToken()\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport User from '../domain/User'\nimport LocalStorageService from './LocalStorageService'\nimport UserService from './UserService'\n\nexport default class LocalUserService extends AbstractRestfulLocalStorageService<User> implements UserService {\n  public constructor(localStorageService: LocalStorageService<User[]>) {\n    super(User, localStorageService)\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport LocalStorageService from './LocalStorageService'\nimport Tag from '../domain/Tag'\n\nexport default class TagService extends AbstractRestfulLocalStorageService<Tag> {\n  public constructor(localStorageService: LocalStorageService<Tag[]>) {\n    super(Tag, localStorageService)\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport LocalStorageService from './LocalStorageService'\nimport ProjectTag from '../domain/ProjectTag'\n\nexport default class ProjectTagService extends AbstractRestfulLocalStorageService<ProjectTag> {\n  public constructor(localStorageService: LocalStorageService<ProjectTag[]>) {\n    super(ProjectTag, localStorageService)\n  }\n\n  public getAllByProject(projectId: string): Promise<ProjectTag[]> {\n    return this.getMany({ projectId })\n  }\n}","import HttpClient from './HttpClient'\n\nexport default class AttachmentUploadService {\n  public constructor(private fileyClient: HttpClient) {\n  }\n\n  public async upload(file: File): Promise<string> {\n    const formData = new FormData()\n    formData.append('file', file)\n\n    const result = await this.fileyClient.post('/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n\n    return result.headers.location\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport LocalStorageService from './LocalStorageService'\nimport Notification from '../domain/Notification'\n\nexport default class NotificationService extends AbstractRestfulLocalStorageService<Notification> {\n  public constructor(localStorageService: LocalStorageService<Notification[]>) {\n    super(Notification, localStorageService)\n  }\n\n  public getAllByPerson(personId: string): Promise<Notification[]> {\n    return this.getMany({ personId })\n  }\n}","import AbstractRestfulLocalStorageService from './AbstractRestfulLocalStorageService'\nimport LocalStorageService from './LocalStorageService'\nimport PersonSkill from '../domain/PersonSkill'\n\nexport default class PersonSkillService extends AbstractRestfulLocalStorageService<PersonSkill> {\n  public constructor(localStorageService: LocalStorageService<PersonSkill[]>) {\n    super(PersonSkill, localStorageService)\n  }\n\n  public getAllByPerson(personId: string): Promise<PersonSkill[]> {\n    return this.getMany({ personId })\n  }\n}","import config from '../config'\nimport LocalStorageService from './LocalStorageService'\nimport HttpClientService from './HttpClientService'\nimport TokenService from './TokenService'\nimport HttpClient from './HttpClient'\nimport PersonService from './PersonService'\nimport ProjectService from './ProjectService'\nimport LocalPersonService from './LocalPersonService'\nimport LocalProjectService from './LocalProjectService'\nimport OrganizationService from './OrganizationService'\nimport LocalOrganizationService from './LocalOrganizationService'\nimport AccountService from './AccountService'\nimport UserService from './UserService'\nimport LocalUserService from './LocalUserService'\nimport TagService from './TagService'\nimport ProjectTagService from './ProjectTagService'\nimport AttachmentUploadService from './AttachmentUploadService'\nimport NotificationService from './NotificationService'\nimport PersonSkillService from './PersonSkillService'\n\nexport default class RootService {\n  public constructor(\n      public readonly attachmentUploadService: AttachmentUploadService,\n      public readonly accountService: AccountService,\n      public readonly personService: PersonService,\n      public readonly projectService: ProjectService,\n      public readonly organizationService: OrganizationService,\n      public readonly userService: UserService,\n      public readonly tagService: TagService,\n      public readonly projectTagService: ProjectTagService,\n      public readonly notificationService: NotificationService,\n      public readonly personSkillService: PersonSkillService\n  ) {\n  }\n\n  private static getHttpClient(): HttpClient {\n    return this.getHttpClientService().create(config.dataSource || undefined)\n  }\n\n  private static getLocalStorageService<T>() {\n    return new LocalStorageService<T>()\n  }\n\n  private static getTokenService(): TokenService {\n    return new TokenService(new LocalStorageService<string>())\n  }\n\n  private static getHttpClientService(): HttpClientService {\n    return new HttpClientService(this.getTokenService())\n  }\n\n  private static getAttachmentUploadService(): AttachmentUploadService {\n    return new AttachmentUploadService(this.getHttpClientService().create('https://mmm.planet.ee/filey', false, null))\n  }\n\n  public static initialize(): RootService {\n    const localStorageService: LocalStorageService<any> = new LocalStorageService()\n    const tokenService = this.getTokenService()\n    const userService = new LocalUserService(localStorageService)\n    const notificationService = new NotificationService(localStorageService)\n    const personService = new LocalPersonService(localStorageService, tokenService, notificationService)\n\n    return new RootService(\n        this.getAttachmentUploadService(),\n        new AccountService(this.getHttpClient(), tokenService, userService),\n        personService,\n        new LocalProjectService(localStorageService, notificationService, personService),\n        new LocalOrganizationService(localStorageService),\n        userService,\n        new TagService(localStorageService),\n        new ProjectTagService(localStorageService),\n        notificationService,\n        new PersonSkillService(localStorageService),\n    )\n  }\n}","import React, { useContext } from 'react'\nimport RootService from '../services'\n\nconst ServicesContext = React.createContext(RootService.initialize())\n\nexport default function useServices(): RootService {\n  return useContext(ServicesContext)\n}","import React, {useEffect} from 'react'\nimport {Avatar, FormLabel, Input} from '@chakra-ui/react'\nimport FormField from './FormField'\nimport useServices from '../hooks/useServices'\nimport {useFormContext} from 'react-hook-form'\n\ninterface FormImageFieldProps {\n  label?: string\n  name: string\n}\n\nconst FormImageField: React.FC<FormImageFieldProps> = ({label, children, name}) => {\n  const {attachmentUploadService} = useServices()\n  const { setValue, watch } = useFormContext()\n\n  useEffect(() => {\n  }, [attachmentUploadService])\n\n  return (\n      <div>\n        {label && (\n            <FormLabel>\n              {label}\n            </FormLabel>\n        )}\n        <label style={{cursor: 'pointer'}}>\n          <FormField name={name} />\n          <Avatar src={watch(name)} size=\"xl\" />\n          <Input type=\"file\" accept=\"image/*\" style={{display: 'none'}} onChange={async e => {\n            const file = e.target.files[0]\n\n            if (!file) {\n              return\n            }\n\n            const url = await attachmentUploadService.upload(file)\n\n            setValue(name, url, { shouldDirty: true })\n          }}/>\n        </label>\n      </div>\n  )\n}\n\nexport default FormImageField","import React from 'react'\nimport Tag from '../domain/Tag'\nimport ReactSelect, {components, Props} from 'react-select'\nimport TagWithIcon from './TagWithIcon'\nimport {observer} from 'mobx-react'\n\nconst MultiValueLabel: React.FC<any> = (props) => {\n  return (\n      <components.MultiValueLabel {...props}>\n        <TagWithIcon name={props.data.tag?.name} type={props.data.tag?.type}/>\n      </components.MultiValueLabel>\n  )\n}\n\nconst Option: React.FC<any> = (props) => {\n  return (\n      <components.Option {...props}>\n        <TagWithIcon name={props.data.tag?.name} type={props.data.tag?.type}/>\n      </components.Option>\n  )\n}\n\ninterface TagsSelectProps extends Props<any, true, any> {\n  tags: Tag[]\n}\n\nconst TagsSelect: React.FC<TagsSelectProps> = ({tags, ...props}) => {\n  return (\n      <ReactSelect\n          isMulti\n          components={{Option, MultiValueLabel}}\n          options={tags.map(tag => (\n              {\n                value: tag.id,\n                label: tag.name,\n                tag,\n              }\n          ))}\n          {...props}\n      />\n  )\n}\n\nexport default observer(TagsSelect)","import React, {useEffect} from 'react'\nimport ReactSelect, {components} from 'react-select'\nimport FormField from './FormField'\nimport useStore from '../hooks/useStore'\nimport TagWithIcon from './TagWithIcon'\nimport {observer} from 'mobx-react'\nimport {TagType} from '../domain/Tag'\nimport TagsSelect from './TagsSelect'\n\nexport interface ProjectTagsFieldProps {\n  projectId?: string\n}\n\nconst ProjectTagsField: React.FC<ProjectTagsFieldProps> = ({projectId}) => {\n  const {tagStore, projectTagStore} = useStore()\n\n  useEffect(() => {\n    tagStore.loadAll()\n  }, [tagStore])\n\n  useEffect(() => {\n    if (projectId) {\n      projectTagStore.loadByProject(projectId)\n    }\n  }, [projectTagStore, projectId])\n\n  const tags = tagStore.tagsForProject\n\n  if (!tags.length) {\n    return null\n  }\n\n  let defaultValue: null | { value: string, label: string }[] = null\n\n  if (projectId) {\n    defaultValue = projectTagStore.getItemsByProject(projectId)\n        .filter(projectTag => projectTag.tag?.type !== TagType.POSITION)\n        .map(projectTag => ({\n          value: projectTag.tagId,\n          label: projectTag.tag?.name,\n          tag: projectTag.tag\n        }))\n  }\n\n  return (\n      <FormField name=\"tags\" label=\"Tags\" defaultValue={defaultValue}>\n        <TagsSelect tags={tags}/>\n      </FormField>\n  )\n}\n\nexport default observer(ProjectTagsField)","import React, {useEffect} from 'react'\nimport {useFieldArray, useFormContext} from 'react-hook-form'\nimport FormField from './FormField'\nimport useStore from '../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport {TagType} from '../domain/Tag'\nimport ProjectTag from '../domain/ProjectTag'\nimport {Grid, Heading, HStack, IconButton, Input, Menu, MenuButton, MenuItem, MenuList, Stack,} from '@chakra-ui/react'\nimport {FaPlus} from 'react-icons/all'\nimport {FaTrash} from 'react-icons/fa'\nimport {parse} from '../util/json'\n\nexport interface ProjectPositionsFieldProps {\n  projectId?: string\n}\n\nconst ProjectPositionsField: React.FC<ProjectPositionsFieldProps> = ({projectId}) => {\n  const name = 'positions'\n  const {tagStore, projectTagStore} = useStore()\n  const {control, watch, setValue} = useFormContext()\n  const {fields, append, remove} = useFieldArray<ProjectTag>({\n    control,\n    name\n  })\n\n  useEffect(() => {\n    tagStore.loadAll()\n  }, [tagStore])\n\n  useEffect(() => {\n    if (projectId) {\n      projectTagStore.loadByProject(projectId)\n    }\n  }, [projectTagStore, projectId])\n\n\n  const projectPositions: ProjectTag[] = projectId ? projectTagStore.getItemsByProject(projectId)\n      .filter(projectTag => projectTag.tag?.type === TagType.POSITION) : []\n\n  useEffect(() => {\n    if (projectPositions.length > 0) {\n      setValue(name, projectPositions.map(({tagId, capacity = 1, tag}) => ({tagId, tag, capacity})))\n    }\n  }, [projectPositions.length])\n\n  const values: ProjectTag[] = watch(name)\n  const total = +values.reduce((a, b) => a + (+b.capacity || 1), 0).toFixed(2)\n\n  const availablePositions = tagStore.positions.filter(tag => !fields.find(v => v.tagId === tag.id))\n\n  if (!availablePositions.length) {\n    return null\n  }\n\n  const filteredAvailablePositions = availablePositions.filter(tag => !fields.find(v => v.tagId === tag.id))\n\n  return (\n      <div>\n        <Stack spacing={4}>\n          <HStack justifyContent=\"space-between\">\n            <Heading size=\"sm\">Positions ({total})</Heading>\n            <Menu>\n              <MenuButton\n                  as={IconButton}\n                  aria-label=\"Add\"\n                  size=\"sm\"\n                  icon={<FaPlus/>}\n                  disabled={filteredAvailablePositions.length <= 0}\n              />\n              <MenuList>\n                {filteredAvailablePositions.map(tag => (\n                    <MenuItem key={tag.id} onClick={() => append({tagId: tag.id, capacity: 1, tag})}>\n                      {tag.name}\n                    </MenuItem>\n                ))}\n              </MenuList>\n            </Menu>\n          </HStack>\n          {fields.map((item, index) => (\n              <Grid key={item.id} alignItems=\"center\"\n                    templateColumns=\"1fr min-content min-content\" gap={2}>\n                <div>\n                  {item.tag?.name}\n\n                  <FormField name={`${name}[${index}].tagId`} defaultValue={item.tagId}>\n                    <input type=\"hidden\"/>\n                  </FormField>\n                </div>\n                <FormField name={`${name}[${index}].capacity`} defaultValue={item.capacity}>\n                  <Input placeholder=\"Capacity\" type=\"number\" width=\"20\"/>\n                </FormField>\n                <IconButton\n                    aria-label=\"Remove\"\n                    icon={<FaTrash/>}\n                    onClick={() => remove(index)}\n                />\n              </Grid>\n          ))}\n        </Stack>\n      </div>\n  )\n}\n\nexport default observer(ProjectPositionsField)","import React from 'react'\nimport {Input, Stack, SimpleGrid} from '@chakra-ui/react'\nimport FormField from './FormField'\nimport useStore from '../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport DrawerForm from './DrawerForm'\nimport useQueryValue from '../hooks/useQueryValue'\nimport Project, {ProjectType} from '../domain/Project'\nimport DateInput from '../ui/DateInput'\nimport {toDate} from '../util/date'\nimport FormImageField from './FormImageField'\nimport {parse} from '../util/json'\nimport ProjectTagsField from './ProjectTagsField'\nimport ProjectPositionsField from './ProjectPositionsField'\nimport ProjectTag from '../domain/ProjectTag'\n\ninterface ProjectFormDrawerProps {\n  name: string\n  type?: ProjectType\n}\n\nconst ProjectFormDrawer: React.FC<ProjectFormDrawerProps> = ({name, type}) => {\n  const {projectStore, organizationStore, projectTagStore} = useStore()\n  const projectId = useQueryValue(name)\n\n  let project: Project\n\n  if (projectId) {\n    project = projectStore.getByIdOrLoad(projectId)\n  }\n\n  if (projectId && !project) {\n    return null\n  }\n\n  const handleSubmit = async ({dateStart, dateEnd, tags, positions, ...values}: any, projectId: string) => {\n    values.dateStart = dateStart ? toDate(dateStart) : null\n    values.dateEnd = dateEnd ? toDate(dateEnd) : null\n    const projectTags: ProjectTag[] = []\n\n    const project = parse({\n      type,\n      ...values\n    }, Project)\n\n    project.organizationId = organizationStore.currentOrganizationId\n\n    if (projectId) {\n      project.id = projectId\n      await projectStore.update(project)\n    } else {\n      await projectStore.create(project)\n    }\n\n    if (!project) {\n      throw new Error('Something went wrong')\n    }\n\n    if (positions) {\n      projectTags.push(...positions)\n    }\n\n    if (tags) {\n      projectTags.push(...tags.map((tag: any) => {\n        const projectTag = new ProjectTag()\n        projectTag.tagId = tag.value\n\n        return projectTag\n      }))\n    }\n\n    await projectTagStore.syncProjectTags(project.id, projectTags)\n  }\n\n  return (\n      <DrawerForm\n          size=\"xl\"\n          name={name}\n          onSubmit={handleSubmit}\n          header={<>{projectId ? 'Edit' : 'Add'} {type}</>}\n          defaultValues={project || {}}\n      >\n        <SimpleGrid columns={2} spacing={4}>\n          <Stack spacing={4}>\n            <FormField\n                name=\"name\"\n                required\n                label=\"Name\"\n            >\n              <Input\n                  size=\"lg\"\n                  autoFocus\n              />\n            </FormField>\n\n            <FormField\n                name=\"clientName\"\n                label={type === ProjectType.TRAINING ? 'Provider' : 'Client'}\n            >\n              <Input/>\n            </FormField>\n\n            <ProjectTagsField projectId={projectId}/>\n\n            <FormField\n                name=\"dateStart\"\n                label=\"Starts at\"\n            >\n              <DateInput/>\n            </FormField>\n\n            <FormField\n                name=\"dateEnd\"\n                label=\"Ends at\"\n            >\n              <DateInput/>\n            </FormField>\n\n            <FormImageField\n                name=\"image\"\n                label=\"Cover image\"\n            />\n\n          </Stack>\n          <Stack>\n            <ProjectPositionsField projectId={projectId}/>\n          </Stack>\n        </SimpleGrid>\n      </DrawerForm>\n  )\n}\n\nProjectFormDrawer.defaultProps = {\n  type: ProjectType.PROJECT\n}\n\nexport default observer(ProjectFormDrawer)","import React from 'react'\nimport Project, {ProjectType} from '../domain/Project'\nimport {Button, HStack, SimpleGrid, Stack, VStack} from '@chakra-ui/react'\nimport ProjectCard from './ProjectCard'\nimport {Link} from 'react-router-dom'\nimport ProjectFormDrawer from './ProjectFormDrawer'\nimport useQueryValue from '../hooks/useQueryValue'\nimport DisplayForRole, {EDIT_ROLES} from './DisplayForRole'\n\nexport interface ProjectListProps {\n  projects: Project[]\n  type: ProjectType\n}\n\nconst ProjectList: React.FC<ProjectListProps> = ({projects, type}) => {\n  const highlightedProjectId = useQueryValue('highlighted-project-id')\n\n  return (\n      <div>\n        <DisplayForRole roles={EDIT_ROLES}>\n          <ProjectFormDrawer name={type} type={type} />\n        </DisplayForRole>\n        {projects.length ? (\n            <Stack spacing={4}>\n              <HStack justifyContent=\"flex-end\">\n                <DisplayForRole roles={EDIT_ROLES}>\n                  <Button as={Link} to={`?${type}`}>\n                    Add {type}\n                  </Button>\n                </DisplayForRole>\n              </HStack>\n              <SimpleGrid columns={3} spacing={4}>\n                {projects.map(project => (\n                    <ProjectCard highlighted={highlightedProjectId === project.id} key={project.id} project={project}/>\n                ))}\n              </SimpleGrid>\n            </Stack>\n        ) : (\n            <VStack height=\"100%\" justifyContent=\"center\" spacing={8}>\n              <div>No {type}s matching filters.</div>\n              <DisplayForRole roles={EDIT_ROLES}>\n                <Button colorScheme=\"purple\" as={Link} to={`?${type}`}>\n                  Create new {type}\n                </Button>\n              </DisplayForRole>\n            </VStack>\n        )}\n      </div>\n  )\n}\n\nexport default ProjectList","import React, {useEffect} from 'react'\nimport Project, {ProjectType} from '../domain/Project'\nimport useStore from '../hooks/useStore'\nimport ProjectList from './ProjectList'\n\ninterface ConnectedProjectListProps {\n  filters: Partial<Project>\n}\n\nconst ConnectedProjectList: React.FC<ConnectedProjectListProps> = ({filters}) => {\n  const {projectStore} = useStore()\n\n  useEffect(() => {\n    projectStore.loadByActiveOrganization()\n  }, [])\n\n\n  return (\n      <ProjectList\n          type={filters.type || ProjectType.PROJECT}\n          projects={projectStore.getFilteredItems(filters)}\n      />\n  )\n}\n\nexport default ConnectedProjectList","import React from 'react'\nimport {observer} from 'mobx-react'\nimport ConnectedProjectList from '../components/ConnectedProjectList'\nimport {ProjectState, ProjectType} from '../domain/Project'\n\nconst UpcomingProjects = () => {\n  return (\n      <ConnectedProjectList filters={{type: ProjectType.PROJECT, state: ProjectState.ONGOING}}/>\n  )\n}\n\nexport default observer(UpcomingProjects)","import React from 'react'\nimport {observer} from 'mobx-react'\nimport ConnectedProjectList from '../components/ConnectedProjectList'\nimport {ProjectState, ProjectType} from '../domain/Project'\n\nconst UpcomingProjects = () => {\n  return (\n      <ConnectedProjectList filters={{type: ProjectType.PROJECT, state: ProjectState.UPCOMING}}/>\n  )\n}\n\nexport default observer(UpcomingProjects)","import React from 'react'\nimport {observer} from 'mobx-react'\nimport ConnectedProjectList from '../components/ConnectedProjectList'\nimport {ProjectState, ProjectType} from '../domain/Project'\n\nconst EndedProjects = () => {\n  return (\n      <ConnectedProjectList filters={{type: ProjectType.PROJECT, state: ProjectState.ENDED}}/>\n  )\n}\n\nexport default observer(EndedProjects)","import React from 'react'\nimport {Tabs as ChakraTabs, TabsProps as ChakraTabsProps, TabList, TabPanels, Tab as ChakraTab, TabPanel} from '@chakra-ui/react'\n\ninterface TabsProps extends Partial<Pick<ChakraTabsProps, 'defaultIndex' | 'index' | 'onChange'>> {\n\n}\n\nconst Tabs: React.FC<TabsProps> = ({children, ...props}) => {\n  return (\n      <ChakraTabs colorScheme=\"purple\" variant=\"unstyled\" isLazy {...props}>\n        <TabList>\n          {React.Children.map(children, (child, index) => {\n            if (!React.isValidElement(child)) {\n              return\n            }\n\n            return (\n                <ChakraTab\n                    mr={4}\n                    rounded=\"md\"\n                    border=\"1px\"\n                    borderColor=\"transparent\"\n                    fontWeight=\"500\"\n                    _selected={{borderWidth: 1, color: 'purple.300', borderColor: 'purple.300'}}\n                    key={child.props.title}>\n                  {child.props.title}\n                </ChakraTab>\n            )\n          })}\n        </TabList>\n        <TabPanels>\n          {React.Children.map(children, (child, index) => {\n            if (!React.isValidElement(child)) {\n              return\n            }\n\n            return (\n                <TabPanel key={child.props.title}>\n                  {child}\n                </TabPanel>\n            )\n          })}\n        </TabPanels>\n      </ChakraTabs>\n  )\n}\n\nexport default Tabs","import React from 'react'\nimport Tabs from '../ui/Tabs'\nimport useQueryValue from '../hooks/useQueryValue'\nimport {useHistory, useLocation, useRouteMatch} from 'react-router-dom'\nimport {slugify} from '../util/string'\n\ninterface RouterTabsProps {\n  name?: string\n}\n\nconst RouterTabs: React.FC<RouterTabsProps> = ({name, children}) => {\n  const history = useHistory()\n  const match = useRouteMatch()\n  const location = useLocation()\n  const currentSlug = location.pathname.replace(new RegExp(`^${match.url}/?`), '')\n\n  const slugs: string[] = React.Children.map(children, (child, index) => {\n    if (!React.isValidElement(child)) {\n      return\n    }\n\n    return child.props.title ? slugify(child.props.title) : index.toString()\n  })\n\n  return (\n      <Tabs\n          index={currentSlug ? slugs.indexOf(currentSlug) : 0}\n          onChange={(index) => history.push(`${match.url}/${slugs[index]}`)}\n      >\n        {children}\n      </Tabs>\n  )\n}\n\nRouterTabs.defaultProps = {\n  name: 'tab'\n}\n\n\nexport default RouterTabs","export function slugify(text: string): string {\n  return text.toString().toLowerCase()\n      .replace(/\\s+/g, '-')           // Replace spaces with -\n      .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n      .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\n      .replace(/^-+/, '')             // Trim - from start of text\n      .replace(/-+$/, '');            // Trim - from end of text\n}","import React from 'react'\n\ninterface TabProps {\n  title: string\n}\n\nconst Tab: React.FC<TabProps> = ({ children}) => {\n  return (\n      <>\n        {children}\n      </>\n  )\n}\n\nexport default Tab","import React from 'react'\nimport { Input } from '@chakra-ui/react'\n\ninterface Column<T> {\n  accessor: (item: T) => string | number | boolean | Date | T[keyof T] | T\n  searchable?: boolean\n}\n\nexport interface TableSearchProps<T> {\n  onFilter: (callback: (row: T) => boolean) => void\n  columns: Array<Column<T>>\n  placeholder?: string\n}\n\nconst TableSearch = <T extends object>({ columns, onFilter, placeholder }: TableSearchProps<T>) => {\n  const handleFilter = (term: string) => {\n    onFilter((row: T) => {\n      if (!term) {\n        return true\n      }\n\n      for (const column of columns) {\n        if (column.searchable === false) {\n          continue\n        }\n\n        const value = column.accessor(row)\n\n        if (\n            value\n            && ['number', 'string'].includes(typeof value)\n            && (value as any).toString().toLocaleLowerCase().includes(term.toLocaleLowerCase())\n        ) {\n          return true\n        }\n      }\n\n      return false\n    })\n  }\n\n  return (\n      <Input\n          placeholder={placeholder || 'Search..'}\n          onChange={e => {\n            handleFilter(e.target.value)\n          }}\n      />\n  )\n}\n\nexport default TableSearch","import React, {useState} from 'react'\nimport {Table, Thead, Tbody, Td, Tr, Th, Flex} from '@chakra-ui/react'\nimport {FaArrowDown, FaArrowUp} from 'react-icons/fa'\nimport {useHistory} from 'react-router-dom'\nimport orderBy from 'lodash/orderBy'\nimport TableSearch, {TableSearchProps} from './TableSearch'\n\nexport interface DataTableColumn<T> {\n  accessor: (item: T) => string | number | boolean | Date | T[keyof T] | T\n  render?: (value: string | number | boolean | Date | T[keyof T] | T, item: T, rowIndex: number) => any\n  title?: string\n  searchable?: boolean\n  sortable?: boolean\n  disableLink?: boolean\n}\n\ninterface DataTableProps<T> {\n  data: Array<T>\n  columns: Array<DataTableColumn<T>>\n  linkTo?: (item: T) => string\n  search?: boolean | Omit<TableSearchProps<T>, 'columns' | 'onFilter'>\n  sortable?: boolean\n}\n\nconst DataTable = <T extends object>({\n                                       data,\n                                       columns,\n                                       linkTo,\n                                       search,\n                                       sortable,\n                                     }: DataTableProps<T>) => {\n  const history = useHistory()\n  const [[filter], setFilter] = useState<[(row: T) => boolean]>([() => true])\n  const [sortBy, setSortBy] = useState<{ index: number; order: 'asc' | 'desc' } | null>(null)\n\n  return (\n      <div>\n        {search && (\n            <div>\n              <TableSearch<T> onFilter={(newFilter: any) => setFilter([newFilter])} columns={columns} {...search} />\n            </div>\n        )}\n        <Table variant=\"simple\">\n          <Thead>\n            <Tr>\n              {columns.map((column, index) => (\n                  <Th\n                      key={index}\n                      onClick={\n                        (column.sortable === undefined ? sortable : column.sortable)\n                            ? (() => setSortBy({\n                              index,\n                              order: sortBy?.index === index && sortBy?.order === 'asc' ? 'desc' : 'asc'\n                            }))\n                            : undefined\n                      }\n                  >\n                    <Flex alignItems=\"center\" style={{cursor: 'pointer'}}>\n                      {column.title}\n                      &nbsp;\n                      {sortBy && sortBy.index === index && (sortBy?.order === 'desc' ? <FaArrowDown/> : <FaArrowUp/>)}\n                    </Flex>\n                  </Th>\n              ))}\n            </Tr>\n          </Thead>\n          <Tbody>\n            {(sortBy ? (orderBy([...data], columns[sortBy.index].accessor, sortBy.order) as T[]) : data || []).map(\n                (item, rowIndex) => {\n                  if (!filter(item)) {\n                    return null\n                  }\n\n                  return (\n                      <Tr\n                          isLink={!!linkTo}\n                          key={({...item} as { id: number | string }).id || rowIndex}\n                          onClick={() => linkTo && history.push(linkTo(item))}\n                      >\n                        {columns.map((column, columnIndex) => {\n                          const value = column.accessor(item)\n\n                          return (\n                              <Td\n                                  onClick={e => column.disableLink && e.stopPropagation()}\n                                  key={columnIndex}\n                                  style={column.disableLink ? {cursor: 'default'} : {}}\n                              >\n                                {column.render ? column.render(value, item, rowIndex) : value}\n                              </Td>\n                          )\n                        })}\n                      </Tr>\n                  )\n                },\n            )}\n          </Tbody>\n        </Table>\n      </div>\n  )\n}\n\nDataTable.defaultProps = {\n  sortable: true,\n}\n\nexport default DataTable","import React from 'react'\nimport Badge from '../ui/Badge'\nimport Person, {Role} from '../domain/Person'\n\nexport interface RoleBadgeProps {\n  person: Person\n}\n\nconst RoleBadge: React.FC<RoleBadgeProps> = ({person}) => {\n  let colorScheme: string\n\n  switch (person.role) {\n    case Role.ADMIN:\n      colorScheme = 'purple'\n      break\n\n    case Role.USER:\n      colorScheme = 'yellow'\n      break\n\n    case Role.MANAGER:\n      colorScheme = 'green'\n      break\n  }\n\n  return (\n      <Badge colorScheme={colorScheme}>{person.humanReadableRole}</Badge>\n  )\n}\n\nexport default RoleBadge","import React from 'react'\nimport {Avatar, HStack, Text, StackProps} from '@chakra-ui/react'\n\nexport interface UserProps extends StackProps {\n  name: string\n  subTitle: string\n  image?: string\n  align?: 'left' | 'right'\n}\n\nconst User: React.FC<UserProps> = ({ name, subTitle, image, align, ...stackProps}) => {\n  const avatar = <Avatar name={name} src={image} size=\"sm\" />\n  return (\n      <HStack spacing={2} {...stackProps}>\n        {align === 'left' && avatar}\n        <Text align={align}>\n          <Text fontSize=\"sm\">{name}</Text>\n          <Text fontSize=\"xs\" color=\"gray.500\">{subTitle}</Text>\n        </Text>\n        {align === 'right' && avatar}\n      </HStack>\n  )\n}\n\nUser.defaultProps = {\n  align: 'left'\n}\n\nexport default User","import React from 'react'\nimport ActiveProjects from './views/ActiveProjects'\nimport {FaBookOpen, FaBuilding, FaCalendarDay, FaHistory, FaPlay, FaUser} from 'react-icons/fa'\nimport UpcomingProjects from './views/UpcomingProjects'\nimport EndedProjects from './views/EndedProjects'\nimport OrganizationProfile from './views/OrganizationProfile'\nimport ProjectOverview from './views/ProjectOverview'\nimport MyProfile from './views/MyProfile'\nimport ComingSoon from './views/ComingSoon'\nimport {FaHashtag} from 'react-icons/all'\nimport UpcomingTrainings from './views/UpcomingTrainings'\n\nexport enum Placement {\n  USER_MENU = 'User menu',\n  PROJECTS = 'Projects',\n  MARKETPLACE = 'Marketplace',\n  NONE = 'None'\n}\n\nexport interface Route {\n  path: string\n  title: string\n  icon?: React.ReactNode,\n  component?: React.FC,\n  placement: Placement\n}\n\nconst routes: Route[] = [\n  {\n    path: '/projects/active',\n    title: 'Active',\n    component: ActiveProjects,\n    icon: <FaPlay />,\n    placement: Placement.PROJECTS,\n  },\n  {\n    path: '/projects/scheduled',\n    title: 'Scheduled',\n    component: UpcomingProjects,\n    icon: <FaCalendarDay />,\n    placement: Placement.PROJECTS,\n  },\n  {\n    path: '/projects/ended',\n    title: 'History',\n    component: EndedProjects,\n    icon: <FaHistory />,\n    placement: Placement.PROJECTS,\n  },\n  {\n    path: '/projects/view/:id',\n    title: 'View project',\n    component: ProjectOverview,\n    placement: Placement.NONE\n  },\n  {\n    path: '/marketplace/requests',\n    title: 'Requests',\n    component: ComingSoon,\n    icon: <FaHashtag />,\n    placement: Placement.MARKETPLACE\n  },\n  {\n    path: '/marketplace/trainings',\n    title: 'Trainings',\n    component: UpcomingTrainings,\n    icon: <FaBookOpen />,\n    placement: Placement.MARKETPLACE\n  },\n  {\n    path: '/profile/organization',\n    title: 'Organization profile',\n    component: OrganizationProfile,\n    icon: <FaBuilding />,\n    placement: Placement.USER_MENU\n  },\n  {\n    path: '/profile/me',\n    title: 'My profile',\n    component: MyProfile,\n    icon: <FaUser />,\n    placement: Placement.USER_MENU\n  },\n  {\n    path: '/create-organization',\n    title: 'Create organization',\n    placement: Placement.USER_MENU\n  },\n  {\n    path: '/logout',\n    title: 'Sign out',\n    placement: Placement.USER_MENU\n  }\n]\n\nexport default routes","import React from 'react'\nimport Person from '../domain/Person'\nimport {observer} from 'mobx-react'\nimport User, {UserProps} from '../ui/User'\n\ninterface PersonUserProps extends Partial<Omit<UserProps, 'name' | 'image'>> {\n  person: Person\n}\n\nconst PersonUser: React.FC<PersonUserProps> = ({person, ...props}) => {\n  if (!person) {\n    return null\n  }\n\n  return (\n      <User name={person.name} subTitle={person.subTitle} image={person.image} {...props}/>\n  )\n}\n\nexport default observer(PersonUser)","import React, {useEffect} from 'react'\nimport useStore from '../hooks/useStore'\nimport {TagType} from '../domain/Tag'\nimport FormField from './FormField'\nimport TagsSelect from './TagsSelect'\nimport {observer} from 'mobx-react'\n\nexport interface PersonTagsFieldProps {\n  personId?: string\n}\n\nconst PersonTagsField: React.FC<PersonTagsFieldProps> = ({personId}) => {\n  const {tagStore, personSkillStore} = useStore()\n\n  useEffect(() => {\n    tagStore.loadAll()\n  }, [tagStore])\n\n  useEffect(() => {\n    if (personId) {\n      personSkillStore.loadByPerson(personId)\n    }\n  }, [personSkillStore, personId])\n\n  const tags = tagStore.items.filter(t => [TagType.POSITION, TagType.TECHNOLOGY, TagType.LANGUAGE].includes(t.type))\n\n  if (!tags.length) {\n    return null\n  }\n\n  let defaultValue: null | { value: string, label: string }[] = null\n\n  if (personId) {\n    defaultValue = personSkillStore.getItemsByPerson(personId)\n        .map(personSkill => ({\n          value: personSkill.tagId,\n          label: personSkill.tag?.name,\n          tag: personSkill.tag\n        }))\n  }\n\n  return (\n      <FormField name=\"tags\" label=\"Skills\" defaultValue={defaultValue}>\n        <TagsSelect tags={tags}/>\n      </FormField>\n  )\n}\n\nexport default observer(PersonTagsField)","import React from 'react'\nimport {Input, Select, Stack} from '@chakra-ui/react'\nimport FormField from './FormField'\nimport FormImageField from './FormImageField'\nimport Person, {Role} from '../domain/Person'\nimport useStore from '../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport DrawerForm from './DrawerForm'\nimport useQueryValue from '../hooks/useQueryValue'\nimport PersonTagsField from './PersonTagsField'\nimport ProjectTag from '../domain/ProjectTag'\nimport {parse} from '../util/json'\nimport PersonSkill from '../domain/PersonSkill'\n\ninterface PersonFormDrawerProps {\n  simple?: boolean\n}\n\nconst PersonFormDrawer: React.FC<PersonFormDrawerProps> = ({ simple }) => {\n  const name = 'person'\n  const {personStore, organizationStore, personSkillStore} = useStore()\n  const personId = useQueryValue(name)\n\n  const handleSubmit = async ({tags, ...values}: any, personId: string) => {\n    const person = parse(values, Person)\n    person.organizationId = organizationStore.currentOrganizationId\n\n    if (personId) {\n      person.id = personId\n      await personStore.update(person)\n    } else {\n      await personStore.create(person)\n    }\n\n\n    console.log(tags)\n    await personSkillStore.syncPersonSkills(person.id, tags.map((tag: any) => {\n      const personSkill = new PersonSkill()\n      personSkill.tagId = tag.value\n\n      return personSkill\n    }))\n  }\n\n  const person = {\n    role: Role.USER,\n    ...personId ? personStore.getById(personId) : {}\n  }\n\n  return (\n      <DrawerForm\n          name={name}\n          onSubmit={handleSubmit}\n          header={<>{personId ? 'Edit' : 'Add'} member</>}\n          defaultValues={person}\n      >\n        <Stack spacing={4}>\n          <FormField name=\"name\" label=\"Name\" required>\n            <Input autoFocus={!personId} />\n          </FormField>\n\n          {!simple && (\n              <FormField name=\"user.email\" label=\"Email\">\n                <Input type=\"email\" />\n              </FormField>\n          )}\n\n          <FormField name=\"position\" label=\"Position\">\n            <Input />\n          </FormField>\n\n          {!simple && (\n              <FormField name=\"role\" label=\"Role\">\n                <Select>\n                  <option value={Role.ADMIN}>Admin</option>\n                  <option value={Role.MANAGER}>Manager</option>\n                  <option value={Role.USER}>User</option>\n                </Select>\n              </FormField>\n          )}\n\n          <PersonTagsField personId={personId} />\n\n          <FormImageField label=\"Image\" name=\"image\" />\n        </Stack>\n      </DrawerForm>\n  )\n}\n\nexport default observer(PersonFormDrawer)","import React from 'react'\nimport {Input, Stack} from '@chakra-ui/react'\nimport FormField from './FormField'\nimport useStore from '../hooks/useStore'\nimport DrawerForm from './DrawerForm'\nimport useQueryValue from '../hooks/useQueryValue'\n\ninterface PersonDeleteDrawerProps {\n  name: string\n}\n\nconst PersonDeleteDrawer: React.FC<PersonDeleteDrawerProps> = ({name}) => {\n  const {personStore} = useStore()\n  const personId = useQueryValue(name)\n\n  if (!personId) {\n    return null\n  }\n\n  const handleSubmit = async (data: any, personId: string) => {\n    await personStore.delete(personId)\n  }\n\n  const person = personStore.getById(personId)\n\n  if (!person) {\n    return null\n  }\n\n  return (\n      <DrawerForm name={name} onSubmit={handleSubmit} header=\"Delete member\">\n        <Stack spacing={4}>\n          <FormField\n              name=\"confirmation\"\n              label={`Type \"${person.name}\" to delete`}\n              required\n              validate={(value: string) => value === person.name || 'Invalid'}\n          >\n            <Input autoFocus/>\n          </FormField>\n        </Stack>\n      </DrawerForm>\n  )\n}\n\nexport default PersonDeleteDrawer","import React from 'react'\nimport {FaTrash} from 'react-icons/fa'\nimport EditButton, {EditButtonProps} from './EditButton'\n\nexport interface DeleteButtonProps extends EditButtonProps {\n}\n\nconst DeleteButton: React.FC<EditButtonProps> = ({...props}) => {\n  return (\n      <EditButton label=\"Delete\" icon={<FaTrash/>} {...props}/>\n  )\n}\n\nexport default DeleteButton","import React, {useEffect} from 'react'\nimport useStore from '../../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport DataTable from '../../components/DataTable'\nimport Person from '../../domain/Person'\nimport RoleBadge from '../../components/RoleBadge'\nimport PersonUser from '../../components/PersonUser'\nimport {Heading, HStack, IconButton} from '@chakra-ui/react'\nimport PersonFormDrawer from '../../components/PersonFormDrawer'\nimport {Link} from 'react-router-dom'\nimport PersonDeleteDrawer from '../../components/PersonDeleteDrawer'\nimport EditButton from '../../components/EditButton'\nimport DeleteButton from '../../components/DeleteButton'\nimport DisplayForRole, {EDIT_ROLES} from '../../components/DisplayForRole'\nimport {FaUserPlus} from 'react-icons/all'\n\nconst Members: React.FC = () => {\n  const {personStore} = useStore()\n\n  useEffect(() => {\n    personStore.loadCurrentOrganizationPersons()\n  }, [personStore])\n\n  return (\n      <div>\n        <DisplayForRole roles={EDIT_ROLES}>\n          <PersonFormDrawer/>\n          <PersonDeleteDrawer name=\"person.delete\"/>\n        </DisplayForRole>\n        <HStack spacing={4}>\n          <Heading size=\"md\">\n            List of users\n          </Heading>\n          <DisplayForRole roles={EDIT_ROLES}>\n            <IconButton variant=\"ghost\" as={Link} to=\"?person\" aria-label=\"Add\" icon={<FaUserPlus />} />\n          </DisplayForRole>\n        </HStack>\n        <DataTable<Person>\n            data={personStore.currentOrganizationPersons}\n            columns={[\n              {\n                accessor: p => p.name,\n                title: 'Name',\n                render: (name, person) => {\n                  return (\n                      <PersonUser person={person}/>\n                  )\n                }\n              },\n              {\n                accessor: p => p.user?.email,\n                title: 'Email',\n              },\n              {\n                accessor: p => p.humanReadableRole,\n                title: 'Account',\n                render: (value, item) => (\n                    <RoleBadge person={item}/>\n                )\n              },\n              {\n                accessor: () => null,\n                render: (value, item) => (\n                    item.id === personStore.currentPerson.id ? (\n                        null\n                    ) : (\n                        <HStack spacing={0} justifyContent=\"flex-end\">\n                          <EditButton to={`?person=${item.id}`}/>\n                          <DeleteButton to={`?person.delete=${item.id}`}/>\n                        </HStack>\n                    )\n                )\n              },\n            ]}\n        />\n      </div>\n  )\n}\n\nexport default observer(Members)","import React from 'react'\nimport {Input, Stack} from '@chakra-ui/react'\nimport FormField from './FormField'\nimport Organization from '../domain/Organization'\nimport FormImageField from './FormImageField'\nimport DrawerForm from './DrawerForm'\n\nexport interface OrganizationEditFormProps {\n  onSubmit: (data: any) => void\n  organization: Organization\n}\n\nconst OrganizationFormDrawer: React.FC<OrganizationEditFormProps> = ({onSubmit, organization}) => {\n  return (\n      <DrawerForm\n          header={<>Edit organization</>}\n          name=\"organization\"\n          onSubmit={onSubmit}\n          defaultValues={organization}\n          successMessage=\"Organization saved successfully!\"\n      >\n        <Stack spacing={4}>\n          <FormField name=\"name\" required label=\"Organization name\">\n            <Input/>\n          </FormField>\n\n          <FormImageField label=\"Logo\" name=\"logo\"/>\n\n          <FormField name=\"address\" label=\"Full address\">\n            <Input/>\n          </FormField>\n\n          <FormField name=\"vatNumber\" label=\"VAT number\">\n            <Input/>\n          </FormField>\n\n          <FormField name=\"email\" label=\"General e-mail address\">\n            <Input/>\n          </FormField>\n\n          <FormField name=\"industry\" label=\"Industry\">\n            <Input/>\n          </FormField>\n\n          <FormField name=\"registryCode\" label=\"Registry code\">\n            <Input/>\n          </FormField>\n\n          <FormField name=\"phone\" label=\"General phone number\">\n            <Input/>\n          </FormField>\n        </Stack>\n      </DrawerForm>\n  )\n}\n\nexport default OrganizationFormDrawer","import React from 'react'\nimport useStore from '../../hooks/useStore'\nimport DisplayForRole, {EDIT_ROLES} from '../../components/DisplayForRole'\nimport OrganizationFormDrawer from '../../components/OrganizationFormDrawer'\nimport {Avatar, Heading, HStack, VStack} from '@chakra-ui/react'\nimport EditButton from '../../components/EditButton'\nimport {observer} from 'mobx-react'\n\nconst GeneralInformation: React.FC = () => {\n  const {organizationStore} = useStore()\n  const {currentOrganization} = organizationStore\n\n  if (!currentOrganization) {\n    return null\n  }\n\n  const onSubmit = async (organization: any) => {\n    await organizationStore.update({\n      ...currentOrganization,\n      ...organization,\n    })\n  }\n\n  return (\n      <div>\n        <DisplayForRole roles={EDIT_ROLES}>\n          <OrganizationFormDrawer onSubmit={onSubmit} organization={currentOrganization}/>\n        </DisplayForRole>\n        <HStack justifyContent=\"space-between\">\n          <VStack spacing={4}>\n            <HStack spacing={4}>\n              <Avatar src={currentOrganization.logo} name={currentOrganization.name}/>\n              <div>\n                <Heading size=\"md\">{currentOrganization.name}</Heading>\n                {currentOrganization.industry}\n              </div>\n            </HStack>\n\n\n          </VStack>\n          <EditButton to=\"?organization\"/>\n        </HStack>\n      </div>\n  )\n}\n\nexport default observer(GeneralInformation)","import React from 'react'\nimport {Button, Menu, MenuButton, MenuItem, MenuList} from '@chakra-ui/react'\nimport {FaChevronDown} from 'react-icons/fa'\nimport {TagType} from '../domain/Tag'\nimport TagWithIcon from './TagWithIcon'\n\nexport interface TagTypeSelectProps {\n  value: TagType\n  onSelect: (value: TagType) => void\n}\n\nconst humanReadableTypes: { [key in TagType]: string } = {\n  [TagType.POSITION]: 'Position',\n  [TagType.LANGUAGE]: 'Language',\n  [TagType.TECHNOLOGY]: 'Technology',\n  [TagType.LOCATION]: 'Location',\n  [TagType.PROJECT_TYPE]: 'Project',\n}\n\nconst TagTypeSelect: React.FC<TagTypeSelectProps> = ({ value, onSelect }) => {\n  return (\n      <Menu>\n        <MenuButton as={Button} variant=\"ghost\" rightIcon={<FaChevronDown/>}>\n          <TagWithIcon name={humanReadableTypes[value]} type={value} />\n        </MenuButton>\n        <MenuList>\n          {[TagType.POSITION, TagType.LANGUAGE, TagType.TECHNOLOGY].filter(v => v !== value).map(tagType => (\n              <MenuItem onClick={() => onSelect(tagType)} key={tagType}>\n                <TagWithIcon name={humanReadableTypes[tagType]} type={tagType} />\n              </MenuItem>\n          ))}\n        </MenuList>\n      </Menu>\n  )\n}\n\nexport default TagTypeSelect","import React, {useEffect} from 'react'\nimport useStore from '../../hooks/useStore'\nimport {Box, Heading, HStack, SimpleGrid, Stack, Text} from '@chakra-ui/react'\nimport {observer} from 'mobx-react'\nimport PersonUser from '../../components/PersonUser'\nimport {TagType} from '../../domain/Tag'\nimport useQueryValue from '../../hooks/useQueryValue'\nimport TagTypeSelect from '../../components/TagTypeSelect'\nimport {useHistory} from 'react-router-dom'\n\nconst Skillset: React.FC = () => {\n  const {personStore, personSkillStore, tagStore} = useStore()\n  const type = useQueryValue('type') as TagType || TagType.POSITION\n  const history = useHistory()\n\n  useEffect(() => {\n    tagStore.loadAll()\n        .then(() => personStore.loadCurrentOrganizationPersons())\n        .then(() => personSkillStore.loadAll())\n  }, [personStore])\n\n  return (\n      <div>\n        <HStack spacing={4} justifyContent=\"space-between\">\n          <Heading size=\"md\">\n            Company skillset\n          </Heading>\n\n          <TagTypeSelect\n              value={type}\n              onSelect={(selectedType) => history.push(`?type=${selectedType}`)}\n          />\n        </HStack>\n\n        <SimpleGrid columns={3} spacing={4} mt={4}>\n          {tagStore.getFilteredItems({type}).map(tag => {\n            const persons = personStore.currentOrganizationPersons\n                .filter(person => personSkillStore.getFilteredItems({\n                  tagId: tag.id,\n                  personId: person.id\n                }).length > 0)\n\n            return (\n                <div key={tag.id}>\n                  <Box borderWidth=\"1px\" p={2} rounded=\"md\">\n                    <Text color=\"gray.500\" fontSize=\"xs\" fontWeight=\"500\" casing=\"uppercase\" mb={2}>{tag.name}</Text>\n                    <Stack spacing={2}>\n                      {persons.map(person => (\n                              <PersonUser\n                                  key={person.id}\n                                  person={person}\n                                  subTitle={person.position}\n                              />\n                          ))}\n                    </Stack>\n                    {persons.length === 0 && (\n                        <Text>\n                          -\n                        </Text>\n                    )}\n                  </Box>\n                </div>\n            )\n          })}\n        </SimpleGrid>\n      </div>\n  )\n}\n\nexport default observer(Skillset)","import React from 'react'\nimport useStore from '../../hooks/useStore'\nimport Card from '../../ui/Card'\nimport RouterTabs from '../../components/RouterTabs'\nimport Tab from '../../ui/Tab'\nimport {observer} from 'mobx-react'\nimport Members from './Members'\nimport GeneralInformation from './GeneralInformation'\nimport Skillset from './Skillset'\n\nconst OrganizationProfile: React.FC = () => {\n  const {organizationStore} = useStore()\n  const {currentOrganization} = organizationStore\n\n  if (!currentOrganization) {\n    return null\n  }\n\n  return (\n      <Card>\n        <RouterTabs>\n          <Tab title=\"General information\">\n            <GeneralInformation />\n          </Tab>\n          <Tab title=\"Users & Roles\">\n            <Members />\n          </Tab>\n\n          <Tab title=\"Skillset\">\n            <Skillset />\n          </Tab>\n\n          <Tab title=\"Billing\">\n            Coming soon!\n          </Tab>\n        </RouterTabs>\n      </Card>\n  )\n}\n\nexport default observer(OrganizationProfile)","import React, {useEffect} from 'react'\nimport useStore from '../hooks/useStore'\nimport Card from '../ui/Card'\nimport {Heading, HStack} from '@chakra-ui/react'\nimport {useRouteMatch} from 'react-router-dom'\nimport EditButton from '../components/EditButton'\nimport DisplayForRole, {EDIT_ROLES} from '../components/DisplayForRole'\nimport ProjectFormDrawer from '../components/ProjectFormDrawer'\n\ninterface ProjectOverviewProps {\n}\n\nconst ProjectOverview: React.FC<ProjectOverviewProps> = () => {\n  const match = useRouteMatch<{id: string}>()\n  const {projectStore} = useStore()\n  const id = match.params.id\n  const project = projectStore.getById(id)\n\n  useEffect(() => {\n    projectStore.loadOne(id)\n  }, [id])\n\n  if (!project) {\n    return null\n  }\n\n  return (\n      <Card>\n        <DisplayForRole roles={EDIT_ROLES}>\n          <ProjectFormDrawer name={project.type} type={project.type} />\n        </DisplayForRole>\n        <HStack justifyContent=\"space-between\">\n          <Heading>{project.name}</Heading>\n          <EditButton size=\"sm\" to={`?${project.type}=${project.id}`}/>\n        </HStack>\n      </Card>\n  )\n}\n\nexport default ProjectOverview","import React from 'react'\nimport DisplayForRole, {EDIT_ROLES} from '../../components/DisplayForRole'\nimport PersonFormDrawer from '../../components/PersonFormDrawer'\nimport {Avatar, Heading, HStack, Stack, Text} from '@chakra-ui/react'\nimport EditButton from '../../components/EditButton'\nimport {observer} from 'mobx-react'\nimport Person from '../../domain/Person'\n\ninterface UserGeneralInformationProps {\n  person: Person\n}\n\nconst UserGeneralInformation: React.FC<UserGeneralInformationProps> = ({ person }) => {\n  if (!person) {\n    return null\n  }\n\n  return (\n      <div>\n        <DisplayForRole roles={EDIT_ROLES}>\n          <PersonFormDrawer simple />\n        </DisplayForRole>\n        <HStack spacing={4}>\n          <Avatar src={person.image} name={person.name}/>\n          <Stack spacing={0}>\n            <Heading size=\"md\">{person.name}</Heading>\n            <Text>{person.subTitle}</Text>\n          </Stack>\n          <EditButton to={`?person=${person.id}`}/>\n        </HStack>\n      </div>\n  )\n}\n\nexport default observer(UserGeneralInformation)","import React, {useEffect} from 'react'\nimport useStore from '../../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport TagWithIcon from '../../components/TagWithIcon'\n\nconst Skills: React.FC = () => {\n  const {tagStore} = useStore()\n\n  useEffect(() => {\n    tagStore.loadAll()\n  }, [])\n\n  return (\n      <div>\n        {tagStore.skills.map(skill => (\n          <TagWithIcon name={skill.name} type={skill.type} key={skill.id} />\n        ))}\n      </div>\n  )\n}\n\nexport default observer(Skills)","import React from 'react'\nimport Card from '../../ui/Card'\nimport {observer} from 'mobx-react'\nimport RouterTabs from '../../components/RouterTabs'\nimport Tab from '../../ui/Tab'\nimport UserGeneralInformation from './UserGeneralInformation'\nimport Person from '../../domain/Person'\nimport Skills from './Skills'\n\nconst UserProfile: React.FC<{person: Person}> = ({ person }) => {\n  if (!person) {\n    return null\n  }\n\n  return (\n\n      <Card>\n        <RouterTabs>\n          <Tab title=\"General information\">\n            <UserGeneralInformation person={person} />\n          </Tab>\n          <Tab title=\"Skills\">\n            <Skills />\n          </Tab>\n        </RouterTabs>\n      </Card>\n  )\n}\n\nexport default observer(UserProfile)","import React from 'react'\nimport useStore from '../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport UserProfile from './UserProfile'\n\nconst MyProfile: React.FC = () => {\n  const {personStore: {currentPerson}} = useStore()\n\n  if (!currentPerson) {\n    return null\n  }\n\n  return (\n      <UserProfile person={currentPerson}/>\n  )\n}\n\nexport default observer(MyProfile)","import React from 'react'\nimport Card from '../ui/Card'\nimport {VStack} from '@chakra-ui/react'\n\nconst ComingSoon: React.FC = () => {\n  return (\n      <Card>\n        <VStack height=\"100%\" justifyContent=\"center\" spacing={8}>\n          <div>Coming soon!</div>\n        </VStack>\n      </Card>\n  )\n}\n\nexport default ComingSoon","import React from 'react'\nimport {observer} from 'mobx-react'\nimport ConnectedProjectList from '../components/ConnectedProjectList'\nimport {ProjectState, ProjectType} from '../domain/Project'\n\nconst UpcomingTrainings = () => {\n  return (\n      <ConnectedProjectList filters={{type: ProjectType.TRAINING, state: ProjectState.UPCOMING}}/>\n  )\n}\n\nexport default observer(UpcomingTrainings)","import React from 'react'\nimport logoPng from './logo.png'\nimport {Link} from 'react-router-dom'\nimport {Tooltip} from '@chakra-ui/react'\n\nconst Logo: React.FC = () => {\n  return (\n      <Tooltip label=\"Pls replace me \">\n        <Link to=\"/\" style={{width: '100%'}}>\n          <img src={logoPng} width=\"100%\" alt=\"Logo\" />\n        </Link>\n      </Tooltip>\n  )\n}\n\nexport default Logo","export default \"data:image/png;base64,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\"","import React from 'react'\nimport {Grid, GridItem, HStack, Stack} from '@chakra-ui/react'\nimport Logo from './Logo'\n\nexport interface LayoutProps {\n  navigation: React.ReactNode\n  topRight?: React.ReactNode\n}\n\nconst Layout: React.FC<LayoutProps> = ({children, navigation, topRight}) => {\n  return (\n      <Grid\n          h=\"100vh\"\n          templateRows=\"auto auto 1fr auto\"\n          templateColumns=\"auto 1fr auto\"\n          gap={4}\n          bg=\"#F8F8F8\"\n          minWidth=\"1024px\"\n      >\n        <GridItem rowSpan={4} colSpan={1} bg=\"white\" boxShadow=\"xl\" p={8}>\n          <Stack spacing={8} minWidth={200}>\n            <div style={{ width: 100 }}>\n              <Logo />\n            </div>\n            {navigation}\n          </Stack>\n        </GridItem>\n        <GridItem colSpan={2} />\n        <GridItem bg=\"white\" borderRadius=\"md\" boxShadow=\"lg\">\n          <HStack justify=\"flex-end\" spacing={2}>\n            {topRight}\n          </HStack>\n        </GridItem>\n        <GridItem />\n        <GridItem>{children}</GridItem>\n        <GridItem />\n      </Grid>\n  )\n}\n\nexport default Layout","import React from 'react'\nimport {Text} from '@chakra-ui/react'\n\nexport interface NavItemGroupProps {\n  title: string\n}\n\nconst NavItemGroup: React.FC<NavItemGroupProps> = ({ title, children }) => {\n  return (\n      <div>\n        <Text mt={6} color=\"gray.400\" fontSize=\"xs\" casing=\"uppercase\">{title}</Text>\n        {children}\n      </div>\n  )\n}\n\nexport default NavItemGroup","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport {HStack, Text} from '@chakra-ui/react'\n\nexport interface NavItemProps {\n  to: string\n  title: string\n  icon?: React.ReactNode\n}\n\nconst NavItem: React.FC<NavItemProps> = ({to, title, icon}) => {\n  return (\n      <HStack\n          as={NavLink}\n          borderRadius=\"xs\"\n          activeStyle={{backgroundColor: '#E9FBFF'}}\n          to={to}\n          spacing={4}\n          py={1}\n          pl={4}\n      >\n        {icon}\n        <Text fontSize=\"sm\" pr={6}>{title}</Text>\n      </HStack>\n  )\n}\n\nexport default NavItem","import React from 'react'\nimport {Menu as ChakraMenu, MenuButton, MenuList, MenuItem} from '@chakra-ui/react'\n\ninterface UserMenuProps {\n  handle: React.ReactNode\n}\n\nconst Menu: React.FC<UserMenuProps> = ({handle, children}) => {\n  return (\n      <ChakraMenu placement=\"bottom-end\" isLazy offset={[-7, 0]}>\n        <MenuButton p={4}>\n          {handle}\n        </MenuButton>\n        <MenuList>\n          {React.Children.map(children, (child, i) => (\n              <MenuItem justifyContent=\"flex-end\" key={i}>\n                {child}\n              </MenuItem>\n          ))}\n        </MenuList>\n      </ChakraMenu>\n  )\n}\n\nexport default Menu","import React from 'react'\nimport RouterDrawer from './RouterDrawer'\nimport {DrawerBody, DrawerHeader} from '../ui/Drawer'\nimport {observer} from 'mobx-react'\nimport Notification from '../domain/Notification'\nimport ReactMarkdown from 'react-markdown'\nimport {LinkBox, Stack, Heading, LinkOverlay, Text} from '@chakra-ui/react'\nimport {formatDistanceToNow} from 'date-fns'\nimport {Link} from 'react-router-dom'\nimport useStore from '../hooks/useStore'\nimport {formatDate} from '../util/date'\n\nexport interface NotificationsDrawerProps {\n  notifications: Notification[]\n}\n\nconst NotificationsDrawer: React.FC<NotificationsDrawerProps> = ({notifications}) => {\n  const {notificationStore} = useStore()\n\n  return (\n      <RouterDrawer name=\"notifications\">\n        <DrawerHeader>Notifications</DrawerHeader>\n        <DrawerBody>\n          <Stack spacing={2}>\n            {notifications?.map(notification => {\n              const formattedDate = formatDate(notification.createdAt)\n\n              return (\n                  <div key={notification.id}>\n                    <LinkBox opacity={notification.readAt ? .6 : 1} p=\"5\" borderWidth=\"1px\" rounded=\"md\">\n                      <Text fontSize=\"xs\" color=\"gray.500\" as=\"time\" dateTime={formattedDate} title={formattedDate}>\n                        {formatDistanceToNow(notification.createdAt, { addSuffix: true })}\n                      </Text>\n                      <Heading size=\"sm\" my=\"2\">\n                        <LinkOverlay as={Link} to={notification.path} onClick={() => {\n                          notificationStore.markAsRead(notification)\n                        }}>\n                          {notification.title}\n                        </LinkOverlay>\n                      </Heading>\n                      <Text fontSize=\"xs\">\n                        <ReactMarkdown>{notification.content}</ReactMarkdown>\n                      </Text>\n                    </LinkBox>\n                  </div>\n              )\n            })}\n            {notifications.length <= 0 && 'No notifications'}\n          </Stack>\n        </DrawerBody>\n      </RouterDrawer>\n  )\n}\n\nexport default observer(NotificationsDrawer)","import React, {useEffect} from 'react'\nimport {Avatar, AvatarBadge, Tooltip} from '@chakra-ui/react'\nimport {Link} from 'react-router-dom'\nimport {FaRegBell} from 'react-icons/all'\nimport NotificationsDrawer from './NotificationsDrawer'\nimport useStore from '../hooks/useStore'\nimport {observer} from 'mobx-react'\nimport useInterval from '../hooks/useInterval'\n\nexport interface NotificationsHandleProps {\n}\n\nconst NotificationsHandle: React.FC<NotificationsHandleProps> = () => {\n  const {notificationStore} = useStore()\n  const {currentPersonNotifications: notifications, currentPersonUnreadNotificationsCount: count} = notificationStore\n  const label = count > 0 ? `${count} unread notification${count !== 1 ? 's' : ''}` : 'No unread notifications'\n\n  useEffect(() => {\n    notificationStore.loadByActivePerson()\n  }, [])\n\n  useInterval(() => {\n    notificationStore.loadByActivePerson()\n  }, 5000)\n\n  return (\n      <Tooltip label={label}>\n        <div>\n          <NotificationsDrawer notifications={notifications} />\n          <Avatar\n              size=\"sm\"\n              bg=\"white\"\n              as={Link}\n              to={`?notifications`}\n              aria-label=\"Notifications\"\n              icon={<FaRegBell fontSize=\"1.5rem\"/>}\n          >\n            {count > 0 && <AvatarBadge borderColor=\"papayawhip\" bg=\"tomato\" boxSize=\"1em\" />}\n          </Avatar>\n        </div>\n      </Tooltip>\n  )\n}\n\nexport default observer(NotificationsHandle)","import {useEffect, useRef} from 'react'\n\nexport default function useInterval(callback: () => void, delay: number | null): void {\n  const savedCallback = useRef<() => void | null>()\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback\n  })\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      if (typeof savedCallback?.current !== 'undefined') {\n        savedCallback?.current()\n      }\n    }\n\n    if (delay !== null) {\n      const id = setInterval(tick, delay)\n      return () => clearInterval(id)\n    }\n  }, [delay])\n}","import React, {useEffect} from 'react'\nimport useStore from '../hooks/useStore'\nimport Layout from '../ui/Layout'\nimport {Placement, Route as NavRoute} from '../routes'\nimport NavItemGroup from '../ui/NavItemGroup'\nimport NavItem from '../ui/NavItem'\nimport {Link, Route, Switch} from 'react-router-dom'\nimport {observer} from 'mobx-react'\nimport Menu from '../ui/Menu'\nimport PersonUser from './PersonUser'\nimport NotificationsHandle from './NotificationsHandle'\nimport {HStack, Text} from '@chakra-ui/react'\n\ninterface ConnectedLayoutProps {\n  routes: NavRoute[]\n}\n\nconst ConnectedLayout: React.FC<ConnectedLayoutProps> = ({routes}) => {\n  const {personStore} = useStore()\n  const {currentUserNonActivePersons, currentPerson} = personStore\n\n  useEffect(() => {\n    personStore.loadUserRelated()\n  }, [])\n\n  return (\n      <Layout\n          navigation={(\n              <div>\n                {[Placement.PROJECTS, Placement.MARKETPLACE].map(placement => {\n                  const filteredRoutes = routes.filter(route => route.placement === placement)\n\n                  if (!filteredRoutes.length) {\n                    return null\n                  }\n\n                  return (\n                      <NavItemGroup key={placement} title={placement}>\n                        {filteredRoutes.map(route => {\n                          return (\n                              <NavItem\n                                  key={route.path}\n                                  to={route.path}\n                                  title={route.title}\n                                  icon={route.icon}\n                              />\n                          )\n                        })}\n                      </NavItemGroup>\n                  )\n                })}\n              </div>\n          )}\n          topRight={(\n              <>\n                <NotificationsHandle />\n                <Menu handle={<PersonUser align=\"right\" person={currentPerson}/>}>\n                  {currentUserNonActivePersons.map((person) => (\n                      <Link key={person.id} to={`/switch-person/${person.id}`}>\n                        <PersonUser\n                            align=\"right\"\n                            person={person}\n                        />\n                      </Link>\n                  ))}\n                  {routes.filter(route => route.placement === Placement.USER_MENU).map((route) => (\n                      <HStack key={route.path} as={Link} to={route.path} spacing={2}>\n                        <Text fontSize=\"sm\" pr={2}>{route.title}</Text>\n                        {route.icon}\n                      </HStack>\n                  ))}\n                </Menu>\n              </>\n          )}\n      >\n        <Switch>\n          {routes\n              .filter(route => !!route.component)\n              .map((route) => (\n                  <Route key={route.path} path={route.path} component={route.component}/>\n              ))\n          }\n        </Switch>\n      </Layout>\n  )\n}\n\nexport default observer(ConnectedLayout)","import React, {useEffect} from 'react'\nimport {observer} from 'mobx-react'\nimport {Redirect} from 'react-router-dom'\nimport useStore from '../hooks/useStore'\n\ninterface AuthenticationGuardProps {\n  forbiddenAction?: any\n}\n\nconst AuthenticationGuard: React.FC<AuthenticationGuardProps> = ({children, forbiddenAction}) => {\n  const {accountStore} = useStore()\n  const {authenticated} = accountStore\n\n  useEffect(() => {\n    if (authenticated === null) {\n      accountStore.checkAuthentication()\n    }\n  }, [authenticated, accountStore])\n\n  if (authenticated === null) {\n    return null\n  }\n\n  if (!authenticated) {\n    return forbiddenAction\n  }\n\n  return <>{children}</>\n}\n\nAuthenticationGuard.defaultProps = {\n  forbiddenAction: <Redirect to=\"/\" />\n}\n\nexport default observer(AuthenticationGuard)","import React from 'react'\nimport {Container, Button, VStack, Text} from '@chakra-ui/react'\nimport Logo from '../ui/Logo'\nimport {Link} from 'react-router-dom'\n\nconst NoOrganization: React.FC = () => {\n  return (\n      <Container>\n        <VStack mt={4} spacing={4}>\n          <Logo/>\n          <Text>I'm glad you made an account. What would you like to do next?</Text>\n          <div>\n            <Button as={Link} to=\"/create-organization\" colorScheme=\"purple\">I'd like to create an organization</Button>\n            {' '}\n            <Button as={Link} to=\"/logout\">I'd like to leave</Button>\n          </div>\n        </VStack>\n      </Container>\n  )\n}\n\nexport default NoOrganization","import React, {useEffect} from 'react'\nimport {observer} from 'mobx-react'\nimport useStore from '../hooks/useStore'\nimport NoOrganization from '../views/NoOrganization'\n\nconst PersonGuard: React.FC = ({children}) => {\n  const {personStore} = useStore()\n\n  useEffect(() => {\n    personStore.loadUserRelated()\n  }, [personStore])\n\n  if (!personStore.currentPerson) {\n    return <NoOrganization />\n  }\n\n  return <>{children}</>\n}\n\nexport default observer(PersonGuard)","import React from 'react'\nimport {Container, Button, VStack, Text} from '@chakra-ui/react'\nimport Logo from '../ui/Logo'\nimport {Link} from 'react-router-dom'\n\nconst Home: React.FC = () => {\n  const buildInfo = process.env.REACT_APP_BUILD_DATE\n\n  return (\n      <Container>\n        <VStack mt={4} spacing={10}>\n          <Logo/>\n          <div>\n            <Button as={Link} to=\"/start\" colorScheme=\"purple\">Start</Button>\n          </div>\n          {buildInfo && (\n              <div>\n                <Text fontSize=\"xs\" mt={20}>Built at {buildInfo}</Text>\n              </div>\n          )}\n        </VStack>\n      </Container>\n  )\n}\n\nexport default Home","import React, {useEffect} from 'react'\nimport useStore from '../hooks/useStore'\nimport AuthenticationGuard from '../components/AuthenticationGuard'\n\nconst Logout: React.FC = () => {\n  const {accountStore} = useStore()\n\n  useEffect(() => {\n    accountStore.logout()\n  }, [accountStore])\n\n  return <AuthenticationGuard />\n}\n\nexport default Logout","import React, {useEffect} from 'react'\nimport AuthenticationGuard from '../components/AuthenticationGuard'\nimport {Redirect, useHistory} from 'react-router-dom'\nimport useStore from '../hooks/useStore'\nimport useServices from '../hooks/useServices'\n\nconst Start: React.FC = () => {\n  const {accountStore} = useStore()\n  const {accountService} = useServices()\n  const history = useHistory()\n\n  useEffect(() => {\n    const email = prompt('Please provide your email')\n\n    if (!email) {\n      history.replace('/')\n      return\n    }\n\n    accountStore.login(email, '1')\n        .catch(() => {\n          console.info('Login failed, creating account...')\n\n          return true\n        })\n        .then((needsRegister) => {\n          if (!needsRegister) {\n            console.info('User already exists')\n            return\n          }\n\n          return accountService.register(email, '')\n        })\n        .then(() => {\n          console.info('Account created, logging in')\n\n          return accountStore.login(email, '')\n        })\n        .then(() => {\n          history.replace('/app')\n        })\n        .catch(err => {\n          console.error(err)\n          alert('Failure')\n        })\n  })\n\n  return null\n}\n\nconst GuardedStart: React.FC = () => {\n  return (\n      <AuthenticationGuard forbiddenAction={<Start />}>\n        <Redirect to=\"/app\" />\n      </AuthenticationGuard>\n  )\n}\n\nexport default GuardedStart","import React from 'react'\nimport {Input, ScaleFade, VStack} from '@chakra-ui/react'\nimport Logo from '../ui/Logo'\nimport FormSubmitButton from './FormSubmitButton'\nimport Form from './Form'\nimport FormField from './FormField'\nimport Person from '../domain/Person'\n\nexport interface OrganizationCreateFormProps {\n  onSubmit: (data: any) => void\n  currentPerson?: Person\n}\n\nconst OrganizationCreateForm: React.FC<OrganizationCreateFormProps> = ({onSubmit, currentPerson}) => {\n  return (\n      <Form onSubmit={onSubmit}>\n        {({watch}) => {\n          const organizationName = watch('organization.name')\n\n          return (\n              <VStack spacing={8} mt={4}>\n                <div style={{width: 150}}>\n                  <Logo/>\n                </div>\n                <FormField name=\"organization.name\" required>\n                  <Input\n                      size=\"lg\"\n                      variant=\"flushed\"\n                      placeholder=\"Organization name\"\n                      autoFocus\n                  />\n                </FormField>\n\n                {organizationName && (\n                    <ScaleFade in style={{width: '100%'}}>\n                      <FormField\n                          name=\"person.name\"\n                          required\n                          defaultValue={currentPerson?.name || ''}\n                      >\n                        <Input\n                            name=\"person.name\"\n                            variant=\"flushed\"\n                            placeholder=\"Your name\"\n                        />\n                      </FormField>\n                    </ScaleFade>\n                )}\n\n                {watch('person.name') && (\n                    <ScaleFade in style={{width: '100%'}}>\n                      <FormField name=\"person.position\">\n                        <Input\n                            variant=\"flushed\"\n                            placeholder={'Your position in ' + organizationName}\n                        />\n                      </FormField>\n                    </ScaleFade>\n                )}\n\n                <FormSubmitButton>\n                  Create\n                </FormSubmitButton>\n              </VStack>\n          )\n        }}\n      </Form>\n  )\n}\n\nexport default OrganizationCreateForm","import React, {useEffect} from 'react'\nimport {Container} from '@chakra-ui/react'\nimport OrganizationCreateForm from '../components/OrganizationCreateForm'\nimport useStore from '../hooks/useStore'\nimport {useHistory} from 'react-router-dom'\nimport {Role} from '../domain/Person'\n\nconst OrganizationWizard: React.FC = () => {\n  const {organizationStore, personStore, accountStore} = useStore()\n  const history = useHistory()\n\n  useEffect(() => {\n    accountStore.checkAuthentication()\n  }, [])\n\n  const onSubmit = async ({person, organization}: any) => {\n    const savedOrganization = await organizationStore.create(organization)\n    const savedPerson = await personStore.create({\n      capacity: 1,\n      role: Role.ADMIN,\n      organizationId: savedOrganization.id,\n      userId: accountStore.authenticatedUser.id,\n      ...person,\n    })\n    personStore.selectPerson(savedPerson.id)\n    history.push('/app')\n  }\n\n  return (\n      <Container>\n        <OrganizationCreateForm onSubmit={onSubmit} currentPerson={personStore.currentPerson}/>\n      </Container>\n  )\n}\n\nexport default OrganizationWizard","import React, {useEffect} from 'react'\nimport {useHistory, useRouteMatch} from 'react-router-dom'\nimport useStore from '../hooks/useStore'\n\nconst SwitchPerson: React.FC = () => {\n  const match = useRouteMatch<{ id: string }>()\n  const history = useHistory()\n  const {personStore} = useStore()\n\n  const id = match.params.id\n\n  useEffect(() => {\n    personStore.selectPerson(id)\n    history.goBack()\n  }, [id])\n\n  return (\n      <></>\n  )\n}\n\nexport default SwitchPerson","import React from 'react'\nimport {Switch, Route} from 'react-router-dom'\nimport routes from './routes'\nimport ConnectedLayout from './components/ConnectedLayout'\nimport AuthenticationGuard from './components/AuthenticationGuard'\nimport PersonGuard from './components/PersonGuard'\nimport Home from './views/Home'\nimport Logout from './views/Logout'\nimport Start from './views/Start'\nimport OrganizationWizard from './views/OrganizationWizard'\nimport SwitchPerson from './views/SwitchPerson'\n\nfunction App() {\n  return (\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/logout\" component={Logout} />\n        <Route path=\"/start\" component={Start} />\n        <Route path=\"/create-organization\" component={OrganizationWizard} />\n        <Route path=\"/switch-person/:id\" component={SwitchPerson} />\n        <Route path=\"*\">\n          <AuthenticationGuard>\n            <PersonGuard>\n              <ConnectedLayout routes={routes} />\n            </PersonGuard>\n          </AuthenticationGuard>\n        </Route>\n      </Switch>\n  )\n}\n\nexport default App\n","import {action, computed, makeObservable, observable} from 'mobx'\nimport {ResourceId} from '../types'\nimport AccountStore from './AccountStore'\nimport RestfulService from '../services/RestfulService'\n\nexport enum ResourceStoreStatus {\n  IDLE,\n  PENDING,\n  RESOLVED,\n  REJECTED,\n}\n\nexport default abstract class AbstractResourceStore<T extends { id: ResourceId }> {\n  protected readonly service: RestfulService<T>\n  protected readonly accountStore: AccountStore\n  @observable private byId: { [key: string]: T } = {}\n  @observable private _status: ResourceStoreStatus = ResourceStoreStatus.IDLE\n\n  protected constructor(service: RestfulService<T>, accountStore: AccountStore) {\n    this.service = service\n    this.accountStore = accountStore\n    makeObservable(this)\n  }\n\n  public async loadAll() {\n    await this.setManyEventually(this.service.getMany())\n  }\n\n  public async loadOne(id: ResourceId) {\n    await this.setOneEventually(this.service.getOne(id))\n  }\n\n  public async save(item: T | any): Promise<T> {\n    if (!item.id) {\n      return this.create(item)\n    } else {\n      return this.update(item)\n    }\n  }\n\n  public async update(item: T): Promise<T> {\n    const existingItem: T = this.getById(item.id)\n\n    this.storeItem(item)\n\n    try {\n      const promise = this.service.update(item.id, this.sanitizeBeforeSave(item))\n\n      await this.setOneEventually(promise)\n\n      return await promise\n    } catch (e) {\n      // Replace with previous on failure\n      this.storeItem(existingItem)\n\n      throw e\n    }\n  }\n\n  public async create(item: Omit<T, 'id'>): Promise<T> {\n    const promise = this.service.create(this.sanitizeBeforeSave(item))\n\n    await this.setOneEventually(promise)\n\n    return await promise\n  }\n\n  public async delete(id: ResourceId) {\n    this.setStatus(ResourceStoreStatus.PENDING)\n    try {\n      await this.service.delete(id)\n\n      delete this.byId[id.toString()]\n\n      this.setStatus(ResourceStoreStatus.RESOLVED)\n    } catch (e) {\n      this.setStatus(ResourceStoreStatus.REJECTED)\n    }\n  }\n\n  public getById(id: ResourceId): T {\n    return this.byId[id.toString()] || null\n  }\n\n  public getByIdOrLoad(id: ResourceId): T {\n    const item = this.getById(id)\n\n    if (!item) {\n      this.loadOne(id)\n    }\n\n    return item\n  }\n\n  protected getItems(): T[] {\n    return Object.values(this.byId).map(item => this.prepareForRetrieving(item)).filter(Boolean)\n  }\n  \n  public getFilteredItems(filters: Partial<T>): T[] {\n    return this.items.filter(item => {\n      console.log(item)\n      for (const filter in filters) {\n        if (!filters.hasOwnProperty(filter)) {\n          continue\n        }\n\n        if (item[filter] !== filters[filter]) {\n          return false\n        }\n      }\n\n      return true\n    })\n  }\n\n  @computed\n  public get items(): T[] {\n    return this.getItems()\n  }\n\n  @action\n  public storeItem(...items: T[]) {\n    items.forEach(item => {\n      this.byId[item.id.toString()] = this.prepareForStoring(item)\n    })\n  }\n\n  protected prepareForStoring(item: T): T {\n    return item\n  }\n\n  protected prepareForRetrieving(item: T): T {\n    return item\n  }\n\n  protected sanitizeBeforeSave(item: T | any): T {\n    return item\n  }\n\n  @action\n  private setStatus(status: ResourceStoreStatus) {\n    this._status = status\n  }\n\n  @computed\n  public get status(): ResourceStoreStatus {\n    return this._status\n  }\n\n  protected async setManyEventually(promise: Promise<T[]>) {\n    this.setStatus(ResourceStoreStatus.PENDING)\n\n    try {\n      const items = await promise\n\n      this.storeItem(...items)\n\n      this.setStatus(ResourceStoreStatus.RESOLVED)\n    } catch (e) {\n\n      // Log user out when 401 received\n      if (e.response?.status === 401) {\n        await this.accountStore.logout()\n      }\n      this.setStatus(ResourceStoreStatus.REJECTED)\n      throw e\n    }\n  }\n\n  protected async setOneEventually(promise: Promise<T>) {\n    await this.setManyEventually(promise.then(item => [item]))\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport Person from '../domain/Person'\nimport PersonService from '../services/PersonService'\nimport {action, computed, makeObservable, observable} from 'mobx'\nimport Organization from '../domain/Organization'\nimport LocalStorageService from '../services/LocalStorageService'\n\nexport default class PersonStore extends AbstractResourceStore<Person> {\n  private readonly personService: PersonService\n  private readonly rootStore: RootStore\n  private readonly localStorageService: LocalStorageService<string>\n  @observable private selectedPersonId: string\n\n  public constructor(rootService: RootService, rootStore: RootStore) {\n    super(rootService.personService, rootStore.accountStore)\n    this.personService = rootService.personService\n    this.rootStore = rootStore\n    this.localStorageService = new LocalStorageService<string>()\n    this.selectedPersonId = this.localStorageService.getItem('selectedPersonId')\n    makeObservable(this)\n  }\n\n  public async loadUserRelated() {\n    await this.setManyEventually(this.personService.getAllRelatedToUser())\n  }\n\n  public async loadByOrganization(organizationId: string): Promise<void> {\n    await this.setManyEventually(this.personService.getAllByOrganization(organizationId))\n  }\n\n  protected prepareForStoring(item: Person): Person {\n    const extendedItem = new StoredPerson(this.rootStore).fromObject(item)\n\n    return super.prepareForStoring(extendedItem)\n  }\n\n  @computed\n  public get currentUserPersons(): Person[] {\n    const authenticatedUserId = this.accountStore.authenticatedUser?.id\n\n    if (!authenticatedUserId) {\n      return []\n    }\n\n    return this.items.filter(p => p.userId === authenticatedUserId)\n  }\n\n  @computed\n  public get currentUserNonActivePersons(): Person[] {\n    const persons = this.currentUserPersons\n\n    return persons.filter(p => p.id !== this.currentPerson.id)\n  }\n\n  @computed\n  public get currentPerson(): Person | null {\n    const selectedPerson = this.selectedPersonId && this.currentUserPersons.find(p => p.id === this.selectedPersonId)\n\n    return selectedPerson || this.currentUserPersons[0] || null\n  }\n\n  @computed\n  public get currentOrganizationPersons(): Person[] {\n    return this.getItems().filter(item => item.organizationId === this.rootStore.organizationStore.currentOrganizationId)\n  }\n\n  @action\n  public async loadCurrentOrganizationPersons(): Promise<void> {\n    await this.loadByOrganization(this.rootStore.organizationStore.currentOrganizationId)\n  }\n\n  @action\n  public selectPerson(id: string): void {\n    this.selectedPersonId = id\n    this.localStorageService.setItem('selectedPersonId', id)\n  }\n}\n\nclass StoredPerson extends Person {\n  private readonly rootStore: RootStore\n\n  constructor(rootStore: RootStore) {\n    super()\n    this.rootStore = rootStore\n  }\n\n  @computed\n  get organization(): Organization {\n    if (this.organizationId && !this._organization) {\n      return this.rootStore.organizationStore.getByIdOrLoad(this.organizationId)\n    }\n\n    return this._organization\n  }\n}","import {action, makeObservable, observable} from 'mobx'\nimport AccountService from '../services/AccountService'\nimport User from '../domain/User'\n\nexport default class AccountStore {\n  private readonly accountService: AccountService\n\n  @observable public authenticatedUser: User | null = null\n  @observable public authenticated: boolean | null = null\n\n  constructor(accountService: AccountService) {\n    this.accountService = accountService\n    makeObservable(this)\n  }\n\n  public async login(email: string, password: string) {\n    await this.accountService.login(email, password)\n    await this.checkAuthentication()\n  }\n\n  public async logout() {\n    await this.accountService.logout()\n    this.setAuthenticatedUser(null)\n  }\n\n  public async checkAuthentication() {\n    const user = await this.accountService.getAccount()\n    this.setAuthenticatedUser(user)\n  }\n\n  @action\n  private setAuthenticatedUser(authenticatedUser: User) {\n    this.authenticatedUser = authenticatedUser\n    this.authenticated = !!authenticatedUser\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport Project, {ProjectType} from '../domain/Project'\nimport ProjectService from '../services/ProjectService'\nimport {computed} from 'mobx'\nimport Organization from '../domain/Organization'\n\nexport default class ProjectStore extends AbstractResourceStore<Project> {\n  private readonly projectService: ProjectService\n  private readonly rootStore: RootStore\n\n  public constructor(rootService: RootService, rootStore: RootStore) {\n    super(rootService.projectService, rootStore.accountStore)\n    this.projectService = rootService.projectService\n    this.rootStore = rootStore\n  }\n\n  protected prepareForStoring(item: Project): Project {\n    return super.prepareForStoring(new StoredProject(this.rootStore).fromObject(item))\n  }\n\n  public async loadByOrganization(organizationId: string) {\n    await this.setManyEventually(this.projectService.getAllByOrganization(organizationId))\n  }\n\n  public async loadByActiveOrganization() {\n    const organizationId = this.rootStore.personStore.currentPerson?.organizationId\n\n    if (!organizationId) {\n      throw new Error('No organization selected')\n    }\n\n    return this.loadByOrganization(organizationId)\n  }\n\n  @computed\n  public get projects() {\n    return this.items.filter(project => project.type === ProjectType.PROJECT || !project.type)\n  }\n\n  @computed\n  public get trainings() {\n    return this.items.filter(project => project.type === ProjectType.TRAINING)\n  }\n\n  @computed\n  public get currentOrganizationProjects() {\n    const organizationId = this.rootStore.organizationStore.currentOrganizationId\n\n    if (!organizationId) {\n      return []\n    }\n\n    return this.items.filter(project => project.organizationId === organizationId)\n  }\n\n  @computed\n  public get upcomingProjects() {\n    return this.currentOrganizationProjects.filter(project => !project.hasStarted())\n  }\n\n  @computed\n  public get ongoingProjects() {\n    return this.currentOrganizationProjects.filter(project => project.isOngoing())\n  }\n\n  @computed\n  public get endedProjects() {\n    return this.currentOrganizationProjects.filter(project => project.hasStarted() && project.hasEnded())\n  }\n}\n\nclass StoredProject extends Project {\n  private readonly rootStore: RootStore\n\n  constructor(rootStore: RootStore) {\n    super()\n    this.rootStore = rootStore\n  }\n\n  @computed\n  get organization(): Organization {\n    if (this.organizationId && !this._organization) {\n      return this.rootStore.organizationStore.getByIdOrLoad(this.organizationId)\n    }\n\n    return this._organization\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport Organization from '../domain/Organization'\nimport {computed} from 'mobx'\n\nexport default class OrganizationStore extends AbstractResourceStore<Organization> {\n  private readonly rootStore: RootStore\n\n  public constructor(rootService: RootService, rootStore: RootStore) {\n    super(rootService.organizationService, rootStore.accountStore)\n    this.rootStore = rootStore\n  }\n\n  @computed\n  public get currentOrganizationId(): string | null {\n    return this.rootStore.personStore.currentPerson?.organizationId\n  }\n\n  @computed\n  public get currentOrganization() {\n    return this.currentOrganizationId && this.getByIdOrLoad(this.currentOrganizationId)\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport Tag, {TagType} from '../domain/Tag'\nimport TagService from '../services/TagService'\nimport {computed} from 'mobx'\n\nexport default class TagStore extends AbstractResourceStore<Tag> {\n  private readonly tagService: TagService\n  private readonly rootStore: RootStore\n\n  public constructor(rootService: RootService, rootStore: RootStore) {\n    super(rootService.tagService, rootStore.accountStore)\n    this.tagService = rootService.tagService\n    this.rootStore = rootStore\n  }\n\n  @computed\n  public get tagsForProject() {\n    return this.items.filter(item => item.type !== TagType.POSITION)\n  }\n\n  @computed\n  public get positions() {\n    return this.items.filter(item => item.type === TagType.POSITION)\n  }\n\n  @computed\n  public get skills() {\n    return this.items.filter(item => [TagType.LANGUAGE, TagType.TECHNOLOGY].includes(item.type))\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport ProjectTag from '../domain/ProjectTag'\nimport ProjectTagService from '../services/ProjectTagService'\nimport {computed} from 'mobx'\nimport Project from '../domain/Project'\nimport Tag from '../domain/Tag'\n\nexport default class ProjectTagStore extends AbstractResourceStore<ProjectTag> {\n  private readonly projectTagService: ProjectTagService\n  private readonly rootStore: RootStore\n\n  public constructor(rootService: RootService, rootStore: RootStore) {\n    super(rootService.projectTagService, rootStore.accountStore)\n    this.projectTagService = rootService.projectTagService\n    this.rootStore = rootStore\n  }\n\n  public async loadByProject(projectId: string) {\n    await this.setManyEventually(this.projectTagService.getAllByProject(projectId))\n  }\n\n  protected prepareForStoring(item: ProjectTag): ProjectTag {\n    return super.prepareForStoring(new StoredProjectTag(this.rootStore).fromObject(item))\n  }\n\n  public getItemsByProject(projectId: string): ProjectTag[] {\n    return this.items.filter(i => i.projectId === projectId)\n  }\n\n  public async syncProjectTags(projectId: string, projectTags: ProjectTag[]) {\n    const currentProjectTags = this.getItemsByProject(projectId)\n    const existingTagIds: string[] = []\n\n    for (const projectTag of currentProjectTags) {\n      const updatedProjectTag = projectTags.find(pt => pt.tagId === projectTag.tagId)\n\n      if (updatedProjectTag) {\n        existingTagIds.push(projectTag.tagId)\n        updatedProjectTag.id = projectTag.id\n        await this.update(updatedProjectTag)\n        continue\n      }\n\n      await this.delete(projectTag.id)\n    }\n\n    for (const pt of projectTags) {\n      if (existingTagIds.includes(pt.tagId)) {\n        continue\n      }\n\n      const projectTag = new ProjectTag()\n      projectTag.tagId = pt.tagId\n      projectTag.projectId = projectId\n      projectTag.capacity = +pt.capacity || 1\n      await this.create(projectTag)\n    }\n  }\n}\n\nclass StoredProjectTag extends ProjectTag {\n  private readonly rootStore: RootStore\n\n  constructor(rootStore: RootStore) {\n    super()\n    this.rootStore = rootStore\n  }\n\n  @computed\n  get project(): Project {\n    if (this.projectId && !this._project) {\n      return this.rootStore.projectStore.getByIdOrLoad(this.projectId)\n    }\n\n    return this._project\n  }\n\n\n  @computed\n  get tag(): Tag {\n    if (this.tagId && !this._tag) {\n      return this.rootStore.tagStore.getByIdOrLoad(this.tagId)\n    }\n\n    return this._tag\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport Notification from '../domain/Notification'\nimport NotificationService from '../services/NotificationService'\nimport {computed} from 'mobx'\nimport {toDate} from '../util/date'\n\nexport default class NotificationStore extends AbstractResourceStore<Notification> {\n  private readonly notificationService: NotificationService\n  public constructor(private readonly rootService: RootService, private readonly rootStore: RootStore) {\n    super(rootService.notificationService, rootStore.accountStore)\n    this.notificationService = rootService.notificationService\n  }\n\n  public async loadByPerson(personId: string): Promise<void> {\n    await this.setManyEventually(this.notificationService.getAllByPerson(personId))\n  }\n\n  public async loadByActivePerson(): Promise<void> {\n    const personId = this.rootStore.personStore.currentPerson?.id\n\n    if (!personId) {\n      throw new Error('No person selected')\n    }\n\n    return await this.loadByPerson(personId)\n  }\n\n  @computed\n  public get currentPersonNotifications(): Notification[] {\n    const personId = this.rootStore.personStore.currentPerson?.id\n\n    if (!personId) {\n      throw new Error('No person selected')\n    }\n\n    const notifications = this.getItems().filter(item => item.personId === personId)\n\n    notifications.sort((a, b) => toDate(b.createdAt).getTime() - toDate(a.createdAt).getTime())\n\n    return notifications\n  }\n\n  @computed\n  public get currentPersonUnreadNotificationsCount(): number {\n    return this.currentPersonNotifications.filter(n => !n.readAt).length\n  }\n\n  public async markAsRead(notification: Notification) {\n    notification.readAt = new Date()\n    await this.update(notification)\n  }\n}","import RootService from '../services'\nimport RootStore from './index'\nimport AbstractResourceStore from './AbstractResourceStore'\nimport PersonSkill from '../domain/PersonSkill'\nimport PersonSkillService from '../services/PersonSkillService'\nimport {computed} from 'mobx'\nimport Tag from '../domain/Tag'\nimport Person from '../domain/Person'\n\nexport default class PersonSkillStore extends AbstractResourceStore<PersonSkill> {\n  private readonly personSkillService: PersonSkillService\n  private readonly rootStore: RootStore\n\n  public constructor(rootService: RootService, rootStore: RootStore) {\n    super(rootService.personSkillService, rootStore.accountStore)\n    this.personSkillService = rootService.personSkillService\n    this.rootStore = rootStore\n  }\n\n  public async loadByPerson(personId: string) {\n    await this.setManyEventually(this.personSkillService.getAllByPerson(personId))\n  }\n\n  protected prepareForStoring(item: PersonSkill): PersonSkill {\n    return super.prepareForStoring(new StoredPersonSkill(this.rootStore).fromObject(item))\n  }\n\n  public getItemsByPerson(personId: string): PersonSkill[] {\n    return this.items.filter(i => i.personId === personId)\n  }\n\n  public async syncPersonSkills(personId: string, personSkills: PersonSkill[]) {\n    const currentPersonSkills = this.getItemsByPerson(personId)\n    const existingTagIds: string[] = []\n\n    for (const personSkill of currentPersonSkills) {\n      const updatedPersonSkill = personSkills.find(pt => pt.tagId === personSkill.tagId)\n\n      if (updatedPersonSkill) {\n        existingTagIds.push(personSkill.tagId)\n        updatedPersonSkill.id = personSkill.id\n        await this.update(updatedPersonSkill)\n        continue\n      }\n\n      await this.delete(personSkill.id)\n    }\n\n    for (const pt of personSkills) {\n      if (existingTagIds.includes(pt.tagId)) {\n        continue\n      }\n\n      const personSkill = new PersonSkill()\n      personSkill.tagId = pt.tagId\n      personSkill.personId = personId\n      personSkill.level = +pt.level\n      await this.create(personSkill)\n    }\n  }\n}\n\nclass StoredPersonSkill extends PersonSkill {\n  private readonly rootStore: RootStore\n\n  constructor(rootStore: RootStore) {\n    super()\n    this.rootStore = rootStore\n  }\n\n  @computed\n  get person(): Person {\n    if (this.personId && !this._person) {\n      return this.rootStore.personStore.getByIdOrLoad(this.personId)\n    }\n\n    return this._person\n  }\n\n\n  @computed\n  get tag(): Tag {\n    if (this.tagId && !this._tag) {\n      return this.rootStore.tagStore.getByIdOrLoad(this.tagId)\n    }\n\n    return this._tag\n  }\n}","import RootService from '../services'\nimport PersonStore from './PersonStore'\nimport AccountStore from './AccountStore'\nimport ProjectStore from './ProjectStore'\nimport OrganizationStore from './OrganizationStore'\nimport TagStore from './TagStore'\nimport ProjectTagStore from './ProjectTagStore'\nimport NotificationStore from './NotificationStore'\nimport PersonSkillStore from './PersonSkillStore'\n\nexport default class RootStore {\n  public readonly accountStore: AccountStore\n  public readonly personStore: PersonStore\n  public readonly projectStore: ProjectStore\n  public readonly organizationStore: OrganizationStore\n  public readonly tagStore: TagStore\n  public readonly projectTagStore: ProjectTagStore\n  public readonly notificationStore: NotificationStore\n  public readonly personSkillStore: PersonSkillStore\n\n  public constructor(rootService: RootService) {\n    this.accountStore = new AccountStore(rootService.accountService)\n    this.personStore = new PersonStore(rootService, this)\n    this.projectStore = new ProjectStore(rootService, this)\n    this.organizationStore = new OrganizationStore(rootService, this)\n    this.tagStore = new TagStore(rootService, this)\n    this.projectTagStore = new ProjectTagStore(rootService, this)\n    this.notificationStore = new NotificationStore(rootService, this)\n    this.personSkillStore = new PersonSkillStore(rootService, this)\n  }\n}","import React from 'react'\nimport {ChakraProvider} from '@chakra-ui/react'\nimport {BrowserRouter} from 'react-router-dom'\nimport {StoreContext} from './hooks/useStore'\nimport RootStore from './store'\nimport useServices from './hooks/useServices'\n\nconst Providers: React.FC = ({children}) => {\n  const services = useServices()\n\n  return (\n      <ChakraProvider>\n        <BrowserRouter>\n          <StoreContext.Provider value={new RootStore(services)}>\n            {children}\n          </StoreContext.Provider>\n        </BrowserRouter>\n      </ChakraProvider>\n  )\n}\n\nexport default Providers","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport Providers from './Providers'\n\nReactDOM.render(\n    <React.StrictMode>\n      <Providers>\n        <App/>\n      </Providers>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\nimport('./seed')","export default class Resource {\n  public static getName(target: object | any) {\n    return target._resourceName || target.name\n  }\n\n  public static Name(value: string) {\n    return (target: object | any): any => {\n      target._resourceName = value\n    }\n  }\n}","import {JsonIgnoreProperties, JsonProperty} from 'jackson-js'\n\n@JsonIgnoreProperties({ignoreUnknown: true})\nexport default abstract class AbstractDomain<T extends object> {\n  @JsonProperty()\n  public id: string\n\n  /**\n   * @deprecated\n   */\n  public fromObject(payload: T | object): this {\n    for (const key in payload) {\n      if (!payload.hasOwnProperty(key)) {\n        continue\n      }\n\n      const descriptor = Object.getOwnPropertyDescriptor(this, key)\n\n      if (!descriptor || (descriptor?.get && !descriptor?.set)) {\n        continue\n      }\n\n      // @ts-ignore\n      this[key] = payload[key]\n    }\n\n    return this\n  }\n}","import {ObjectMapper} from 'jackson-js'\nimport {ClassType} from 'jackson-js/dist/@types'\n\nconst objectMapper = new ObjectMapper()\n\nexport function parse<T>(input: string | T | any, type?: ClassType<T>): T {\n  if (typeof input !== 'string') {\n    return parse<T>(stringify(input), type)\n  }\n\n  return objectMapper.parse<T>(input, type && {mainCreator: () => [type]})\n}\n\nexport function stringify<T>(input: T): string {\n  return objectMapper.stringify<T>(input)\n}","import AbstractDomain from './AbstractDomain'\nimport Project from './Project'\nimport Tag from './Tag'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\n@Resource.Name('projectTags')\nexport default class ProjectTag extends AbstractDomain<ProjectTag> {\n    @JsonProperty() public tagId: string\n    @JsonProperty() public projectId: string\n    @JsonProperty() public capacity?: number\n    protected _project?: Project\n    protected _tag?: Tag\n\n    @JsonProperty()\n    get tag(): Tag {\n        return this._tag\n    }\n\n    set tag(value: Tag) {\n        this._tag = value\n    }\n\n    @JsonProperty()\n    get project(): Project {\n        return this._project\n    }\n\n    set project(value: Project) {\n        this._project = value\n    }\n}","import AbstractDomain from './AbstractDomain'\nimport Person from './Person'\nimport Tag from './Tag'\nimport {JsonProperty} from 'jackson-js'\nimport Resource from '../decorators/Resource'\n\n@Resource.Name('personSkills')\nexport default class PersonSkill extends AbstractDomain<PersonSkill> {\n  @JsonProperty() public tagId: string\n  @JsonProperty() public personId: string\n  @JsonProperty() public level?: number\n  protected _person?: Person\n  protected _tag?: Tag\n\n  @JsonProperty()\n  get tag(): Tag {\n    return this._tag\n  }\n\n  set tag(value: Tag) {\n    this._tag = value\n  }\n\n  @JsonProperty()\n  get person(): Person {\n    return this._person\n  }\n\n  set person(value: Person) {\n    this._person = value\n  }\n}","import {ClassType} from 'jackson-js/dist/@types'\nimport {parse, stringify} from '../util/json'\n\nexport default class LocalStorageService<T> {\n  private static KEY_PREFIX = 'LSS/'\n\n  public setItem(key: string, value: T): void {\n    console.info(`LSS: Storing item \"${key}\"`)\n    localStorage.setItem(this.getFullKey(key), stringify(value))\n  }\n\n  public getItem(key: string, type?: ClassType<T>): T {\n    console.info(`LSS: Retrieving item \"${key}\"`)\n    const result = localStorage.getItem(this.getFullKey(key))\n\n    if (!result) {\n      return null\n    }\n\n    return parse(result, type)\n  }\n\n  public removeItem(key: string): void {\n    console.info(`LSS: Removing item item \"${key}\"`)\n    localStorage.removeItem(this.getFullKey(key))\n  }\n\n  private getFullKey(key: string): string {\n    return LocalStorageService.KEY_PREFIX + key\n  }\n}"],"sourceRoot":""}